(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aec9fd6"],{"4d63":function(e,t,a){var s=a("83ab"),i=a("da84"),r=a("94ca"),n=a("7156"),c=a("9bf2").f,o=a("241c").f,l=a("44e7"),d=a("ad6d"),u=a("9f7f"),p=a("6eeb"),m=a("d039"),h=a("69f3").enforce,f=a("2626"),v=a("b622"),g=v("match"),_=i.RegExp,b=_.prototype,y=/a/g,C=/a/g,x=new _(y)!==y,k=u.UNSUPPORTED_Y,N=s&&r("RegExp",!x||k||m((function(){return C[g]=!1,_(y)!=y||_(C)==C||"/a/i"!=_(y,"i")})));if(N){var $=function(e,t){var a,s=this instanceof $,i=l(e),r=void 0===t;if(!s&&i&&e.constructor===$&&r)return e;x?i&&!r&&(e=e.source):e instanceof $&&(r&&(t=d.call(e)),e=e.source),k&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var c=n(x?new _(e,t):_(e,t),s?this:b,$);if(k&&a){var o=h(c);o.sticky=!0}return c},w=function(e){e in $||c($,e,{configurable:!0,get:function(){return _[e]},set:function(t){_[e]=t}})},D=o(_),S=0;while(D.length>S)w(D[S++]);b.constructor=$,$.prototype=b,p(i,"RegExp",$)}f("RegExp")},8836:function(e,t,a){},a09f:function(e,t,a){},db58:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-section-loader",{attrs:{status:e.loading}}),e.service?a("v-container",[a("v-row",{staticClass:"px-0"},[a("v-col",{staticClass:"shop-wrapper px-5",attrs:{xl:"6",lg:"6",md:"6",sm:"12",xs:"12"}},[a("img",{staticClass:"border",attrs:{src:e.baseUrl+"uploads/servicies/"+e.service.image,height:"100%",width:"100%"}})]),a("v-col",{staticClass:"shop-wrapper px-5",attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("h5",{staticClass:"mt-2 text-purple",staticStyle:{"font-size":"26px","font-weight":"700"}},[e._v(" "+e._s(e.service["en"==e.selectedLocale.locale?"en_name":"ar_name"])+" ")]),a("h6",{staticClass:"font-weight--bold mt-2 text-purple"},[e._v(" "+e._s(e.$t("message.currency"))+" "+e._s(e.service.price)+" ")]),a("v-rating",{staticStyle:{"margin-left":"-10px"},attrs:{readonly:"","background-color":"orange",color:"orange"},model:{value:e.service.rating,callback:function(t){e.$set(e.service,"rating",t)},expression:"service.rating"}}),a("div",{staticClass:"d-flex flex-direction-row mt-2"},[a("v-text-field",{attrs:{color:"warning",rules:e.requireRule,required:"",label:e.$t("message.couponCode"),solo:"",disabled:e.loading||e.coupon_percent>0},model:{value:e.coupon,callback:function(t){e.coupon=t},expression:"coupon"}}),a("v-btn",{staticClass:"ml-2",attrs:{color:"warning",height:"48px",disabled:e.coupon_percent>0},on:{click:e.applyCoupon}},[e._v(e._s(e.$t("message.apply")))])],1),a("div",{staticClass:"d-custom-flex align-items-center"},[a("v-btn",{staticStyle:{flex:"1"},attrs:{color:"secondary mr-1",disabled:e.itemExist},on:{click:e.addWish}},[e._v(e._s(e.itemExist?e.$t("message.added2wishes"):e.$t("message.add2wishlist")))]),a("v-btn",{staticStyle:{flex:"1"},attrs:{loading:e.loading,disabled:e.loading,color:"info ml-1"},on:{click:e.booking}},[e._v(e._s(e.$t("message.booking")))])],1),a("div",{staticClass:"d-custom-flex align-items-center mt-5"},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"ti-location-pin"})]),a("h6",{staticClass:"text-purple pl-5"},[e._v(" "+e._s(e.service["en"==e.selectedLocale.locale?"en_address":"ar_address"])+" ")])]),a("div",{staticClass:"d-custom-flex align-items-center mt-2"},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"zmdi zmdi-phone"})]),a("h6",{staticClass:"text-purple pl-5"},[e._v(" "+e._s(e.service.phone)+" ")])]),a("h5",{staticClass:"font-weight--bold text-purple mt-5"},[e._v(" "+e._s(e.$t("message.description"))+" ")]),a("div",{staticClass:"font-weight--bold text-purple mt-2"},[e._v(" "+e._s(e.service["en"==e.selectedLocale.locale?"en_description":"ar_description"])+" ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{persistent:"","max-width":"700","content-class":"step-dialog"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("div",{staticClass:"d-flex justify-content-end"},[a("v-btn",{staticStyle:{"background-color":"black",position:"relative",bottom:"-20px","z-index":"999",right:"0"},attrs:{color:"white",icon:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("close")])],1)],1),a("v-card",[e.service?a("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",complete:e.step>1}},[e._v(e._s(e.$t("message.makeBooking")))]),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",complete:e.step>2}},[e._v(e._s(e.$t("message.choosePayment")))]),a("v-divider"),a("v-stepper-step",{attrs:{step:"3"}},[e._v(e._s(e.$t("message.paymentDetails")))])],1),a("v-stepper-items",[a("v-stepper-content",{staticClass:"step-content",attrs:{step:"1"}},[a("v-row",[a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-date-picker",{attrs:{"allowed-dates":e.mydate},model:{value:e.selected_date,callback:function(t){e.selected_date=t},expression:"selected_date"}})],1),e.selected_date?a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},e._l(e.service.times,(function(t,s){return a("v-btn",{key:s+"time",staticClass:"mt-2",attrs:{color:"primary",outlined:!e.selected_times.includes(t),block:""},on:{click:function(a){return e.selectTime(t)}}},[e._v(" "+e._s(t.from_time)+" ~ "+e._s(t.to_time)+" ")])})),1):e._e()],1),e.selected_times.length>0?a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{xl:"8",lg:"8",md:"8",sm:"12",cols:"12"}},[a("div",{staticClass:"control-box d-flex ml-2 flex-row align-items-center"},[a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:e.decreaseQuantity}},[a("v-icon",{attrs:{dark:""}},[e._v("remove")])],1),a("div",{staticClass:"input-quantity"},[a("p",[e._v(e._s(e.quantity))])]),a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:e.increaseQuantity}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)]),a("v-col",{attrs:{xl:"4",lg:"4",md:"4",sm:"12",cols:"12"}},[a("p",{staticClass:"font-weight--bold text-purple"},[e._v(" "+e._s(e.$t("message.price"))+" : "+e._s(e.$t("message.currency"))+" "+e._s(e.service.price*e.selected_times.length*e.quantity)+e._s(" ("+e.service.price+"*"+e.selected_times.length+"*"+e.quantity+")")+" ")])])],1):e._e(),e.selected_date?a("v-row",[a("v-col",{attrs:{xl:"8",lg:"8",md:"8",sm:"8",cols:"8"}},[a("v-select",{attrs:{label:e.$t("message.worker"),"item-text":"full_name","item-value":"id",items:e.service.workers},model:{value:e.worker_id,callback:function(t){e.worker_id=t},expression:"worker_id"}})],1),a("v-col",{attrs:{xl:"4",lg:"4",md:"4",sm:"4",cols:"4"}},[a("img",{staticClass:"rounded-circle",attrs:{src:e.getImage,width:"50px",height:"50px"}})])],1):e._e()],1),a("v-stepper-content",{staticClass:"step-content",attrs:{step:"2"}},[a("div",{staticClass:"d-flex flex-direction-column px-5"},[a("div",[a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.price")))]),a("h6",[e._v(" "+e._s(e.$t("message.currency"))+" "+e._s(parseFloat(e.service.price).toFixed(2))+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.times")))]),a("h6",[e._v(e._s(e.selected_times.length))])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.quantity")))]),a("h6",[e._v(e._s(e.quantity))])]),a("v-divider"),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.subTotal")))]),a("h6",[e._v(" "+e._s(e.$t("message.currency"))+" "+e._s(e.getSubTotal)+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.tax")))]),a("h6",[e._v(" "+e._s(e.$t("message.currency"))+" "+e._s(e.getTax)+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(" "+e._s(e.$t("message.coupons"))+e._s("("+e.coupon_percent+" %)")+" ")]),a("h6",[e._v("- "+e._s(e.$t("message.currency"))+" "+e._s(e.getCoupons))])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[e._v(e._s(e.$t("message.total")))]),a("h6",[e._v(" "+e._s(e.$t("message.currency"))+" "+e._s(e.getTotal)+" ")])])],1),a("v-btn",{attrs:{block:"",height:"50",outlined:0!=e.payment,disabled:e.loading,color:"primary"},on:{click:function(t){e.payment=0}}},[e._v(e._s(e.$t("message.insurancePay")))]),a("v-btn",{staticClass:"mt-3",attrs:{block:"",height:"50",outlined:1!=e.payment,disabled:e.loading,loading:e.loading,color:"primary"},on:{click:e.gotoPay}},[e._v(e._s(e.$t("message.creditCardPay")))])],1)]),a("v-stepper-content",{staticClass:"step-content p-0",attrs:{step:"3"}},[0==e.payment?a("div",[a("v-form",{staticClass:"pa-4",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-text-field",{attrs:{label:e.$t("message.companyName"),rules:e.requireRule,required:""},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1),a("v-row",[a("v-text-field",{attrs:{label:e.$t("message.insuranceReferenceNumber"),rules:e.requireRule,required:""},model:{value:e.insurance,callback:function(t){e.insurance=t},expression:"insurance"}})],1),a("h6",{staticClass:"text-purple mt-2"},[e._v(" "+e._s(e.$t("message.uploadDetails"))+" ")]),a("v-row",[a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-img",{staticClass:"my-2 border",staticStyle:{height:"200px"},attrs:{src:e.image?e.image:"/static/img/insurance.png","aspect-ratio":"1",border:""},on:{click:function(t){return e.chooseFiles(1)}}})],1),a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-img",{staticClass:"my-2 border",staticStyle:{height:"200px"},attrs:{src:e.image1?e.image1:"/static/img/idcard.png","aspect-ratio":"1"},on:{click:function(t){return e.chooseFiles(2)}}})],1)],1),a("input",{attrs:{id:"fileUpload",type:"file",hidden:"",accept:[".jpg",".jpeg",".gif",".png"]},on:{change:e.uploadImageFile}})],1)],1):e._e(),1==e.payment?a("div",{staticClass:"mt-2"},[a("CardForm",{attrs:{"form-data":e.formData,randomBackgrounds:!1,loading:e.loading},on:{"input-card-number":e.updateCardNumber,"input-card-name":e.updateCardName,"input-card-month":e.updateCardMonth,"input-card-year":e.updateCardYear,"input-card-cvv":e.updateCardCvv}})],1):e._e()]),a("div",{staticClass:"p-2"},[e.step>1?a("v-btn",{attrs:{color:"secondary"},on:{click:e.beforeStep}},[e._v(e._s(e.$t("message.back")))]):e._e(),e.step<3?a("v-btn",{staticClass:"ml-2",attrs:{color:"info",disabled:!e.isValid},on:{click:e.nextStep}},[e._v(e._s(e.$t("message.continue")))]):e._e(),3==e.step?a("v-btn",{staticClass:"ml-2",attrs:{color:"success",disabled:!e.isValid},on:{click:e.submit}},[e._v(e._s(e.$t("message.submit")))]):e._e()],1)],1)],1):e._e()],1)],1)],1)},i=[],r=a("5530"),n=(a("4de4"),a("99af"),a("b680"),a("d3b7"),a("caad"),a("2532"),a("365c")),c=a("e065"),o=a("2f62"),l=a("2b0e"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("Card",{attrs:{fields:e.fields,labels:e.formData,isCardNumberMasked:e.isCardNumberMasked,randomBackgrounds:e.randomBackgrounds,backgroundImage:e.backgroundImage}})],1),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[e._v(e._s(e.$t("message.cardNumber")))]),a("input",{staticClass:"card-input__input",attrs:{type:"tel",id:e.fields.cardNumber,maxlength:e.cardNumberMaxLength,"data-card-field":"",autocomplete:"off"},domProps:{value:e.formData.cardNumber},on:{input:e.changeNumber,focus:e.focusCardNumber,blur:e.blurCardNumber}}),a("button",{staticClass:"card-input__eye",class:{"-active":!e.isCardNumberMasked},attrs:{title:"Show/Hide card number",tabindex:"-1",disabled:""===e.formData.cardNumber},on:{click:e.toggleMask}})])]),a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[e._v(e._s(e.$t("message.cardName")))]),a("input",{directives:[{name:"letter-only",rawName:"v-letter-only"}],staticClass:"card-input__input",attrs:{type:"text",id:e.fields.cardName,"data-card-field":"",autocomplete:"off"},domProps:{value:e.formData.cardName},on:{input:e.changeName}})])])]),a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-form__group"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[e._v(e._s(e.$t("message.expirationDate")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.cardMonth,expression:"formData.cardMonth"}],staticClass:"card-input__input -select",attrs:{id:e.fields.cardMonth,"data-card-field":""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"cardMonth",t.target.multiple?a:a[0])},e.changeMonth]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("message.month")))]),e._l(12,(function(t){return a("option",{key:t,attrs:{disabled:t<e.minCardMonth},domProps:{value:t<10?"0"+t:t}},[e._v(" "+e._s(e.generateMonthValue(t))+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.cardYear,expression:"formData.cardYear"}],staticClass:"card-input__input -select",attrs:{id:e.fields.cardYear,"data-card-field":""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"cardYear",t.target.multiple?a:a[0])},e.changeYear]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("message.year")))]),e._l(12,(function(t,s){return a("option",{key:t,domProps:{value:s+e.minCardYear}},[e._v(" "+e._s(s+e.minCardYear)+" ")])}))],2)])]),a("div",{staticClass:"card-form__col -cvv"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[e._v(e._s(e.$t("message.CVV")))]),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"card-input__input",attrs:{type:"tel",id:e.fields.cardCvv,maxlength:"4","data-card-field":"",autocomplete:"off"},domProps:{value:e.formData.cardCvv},on:{input:e.changeCvv}})])])])]),e.submitButton?a("v-btn",{staticClass:"card-form__button",attrs:{loading:e.loading},on:{click:e.invaildCard}},[e._v(" "+e._s(e.$t("message.submit"))+" ")]):e._e()],1)},u=[],p=(a("ac1f"),a("5319"),a("1276"),a("159b"),a("498a"),a("a15b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-item",class:{"-active":e.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":e.focusElementStyle},style:e.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[e.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}},[e.cardType?a("img",{key:e.cardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.cardType+".png",alt:""}}):e._e()])],1)]),a("label",{ref:e.fields.cardNumber,staticClass:"card-item__number",attrs:{for:e.fields.cardNumber}},[e._l(e.currentPlaceholder,(function(t,s){return a("span",{key:s},[a("transition",{attrs:{name:"slide-fade-up"}},[e.getIsNumberMasked(s,t)?a("div",{staticClass:"card-item__numberItem"},[e._v("*")]):e.labels.cardNumber.length>s?a("div",{key:e.currentPlaceholder,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(e._s(e.labels.cardNumber[s]))]):a("div",{key:e.currentPlaceholder+1,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(e._s(t))])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:e.fields.cardName,staticClass:"card-item__info",attrs:{for:e.fields.cardName}},[a("div",{staticClass:"card-item__holder"},[e._v(e._s(e.$t("message.cardHolder")))]),a("transition",{attrs:{name:"slide-fade-up"}},[e.labels.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},e._l(e.labels.cardName.replace(/\s\s+/g," "),(function(t,s){return a("span",{key:s+1,staticClass:"card-item__nameItem"},[e._v(e._s(t))])})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[e._v(e._s(e.$t("message.fullName")))])])],1),a("div",{ref:"cardDate",staticClass:"card-item__date"},[a("label",{staticClass:"card-item__dateTitle",attrs:{for:e.fields.cardMonth}},[e._v(e._s(e.$t("message.expires")))]),a("label",{staticClass:"card-item__dateItem",attrs:{for:e.fields.cardMonth}},[a("transition",{attrs:{name:"slide-fade-up"}},[e.labels.cardMonth?a("span",{key:e.labels.cardMonth},[e._v(e._s(e.labels.cardMonth))]):a("span",{key:"2"},[e._v(e._s(e.$t("message.MM")))])])],1),e._v(" / "),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[a("transition",{attrs:{name:"slide-fade-up"}},[e.labels.cardYear?a("span",{key:e.labels.cardYear},[e._v(e._s(String(e.labels.cardYear).slice(2,4)))]):a("span",{key:"2"},[e._v(e._s(e.$t("message.YY")))])])],1)])])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[e.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[e._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},e._l(e.labels.cardCvv,(function(t,s){return a("span",{key:s},[e._v("*")])})),0),a("div",{staticClass:"card-item__type"},[e.cardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.cardType+".png"}}):e._e()])])])])}),m=[],h=(a("4d63"),a("25f0"),a("466d"),{name:"Card",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},data:function(){return{focusElementStyle:null,currentFocus:null,isFocused:!1,isCardFlipped:!1,amexCardPlaceholder:"#### ###### #####",dinersCardPlaceholder:"#### ###### ####",defaultCardPlaceholder:"#### #### #### ####",currentPlaceholder:""}},watch:{currentFocus:function(){this.currentFocus?this.changeFocus():this.focusElementStyle=null},cardType:function(){this.changePlaceholder()}},mounted:function(){var e=this;this.changePlaceholder();var t=this,a=document.querySelectorAll("[data-card-field]");a.forEach((function(a){a.addEventListener("focus",(function(){e.isFocused=!0,a.id===e.fields.cardYear||a.id===e.fields.cardMonth?e.currentFocus="cardDate":e.currentFocus=a.id,e.isCardFlipped=a.id===e.fields.cardCvv})),a.addEventListener("blur",(function(){e.isCardFlipped=!a.id===e.fields.cardCvv,setTimeout((function(){t.isFocused||(t.currentFocus=null)}),300),t.isFocused=!1}))}))},computed:{cardType:function(){var e=this.labels.cardNumber,t=new RegExp("^4");return null!=e.match(t)?"visa":(t=new RegExp("^(34|37)"),null!=e.match(t)?"amex":(t=new RegExp("^5[1-5]"),null!=e.match(t)?"mastercard":(t=new RegExp("^6011"),null!=e.match(t)?"discover":(t=new RegExp("^62"),null!=e.match(t)?"unionpay":(t=new RegExp("^9792"),null!=e.match(t)?"troy":(t=new RegExp("^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}"),null!=e.match(t)?"dinersclub":(t=new RegExp("^35(2[89]|[3-8])"),null!=e.match(t)?"jcb":"")))))))},currentCardBackground:function(){if(this.randomBackgrounds&&!this.backgroundImage){var e=Math.floor(25*Math.random()+1);return"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(e,".jpeg")}return this.backgroundImage?this.backgroundImage:null}},methods:{changeFocus:function(){var e=this.$refs[this.currentFocus];this.focusElementStyle=e?{width:"".concat(e.offsetWidth,"px"),height:"".concat(e.offsetHeight,"px"),transform:"translateX(".concat(e.offsetLeft,"px) translateY(").concat(e.offsetTop,"px)")}:null},getIsNumberMasked:function(e,t){return e>4&&e<14&&this.labels.cardNumber.length>e&&""!==t.trim()&&this.isCardNumberMasked},changePlaceholder:function(){var e=this;"amex"===this.cardType?this.currentPlaceholder=this.amexCardPlaceholder:"dinersclub"===this.cardType?this.currentPlaceholder=this.dinersCardPlaceholder:this.currentPlaceholder=this.defaultCardPlaceholder,this.$nextTick((function(){e.changeFocus()}))}}}),f=h,v=a("2877"),g=Object(v["a"])(f,p,m,!1,null,null,null),_=g.exports,b={name:"CardForm",directives:{"number-only":{bind:function(e){function t(e){if(e.target.value=e.target.value.replace(/[^0-9]/g,""),e.charCode>=48&&e.charCode<=57)return!0;e.preventDefault()}e.addEventListener("keypress",t)}},"letter-only":{bind:function(e){function t(e){return e.charCode>=48&&e.charCode<=57&&e.preventDefault(),!0}e.addEventListener("keypress",t)}}},props:{formData:{type:Object,default:function(){return{cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}}},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},submitButton:{type:Boolean,default:!1}},components:{Card:_},data:function(){return{fields:{cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"},minCardYear:(new Date).getFullYear(),isCardNumberMasked:!0,mainCardNumber:this.cardNumber,cardNumberMaxLength:19}},computed:{minCardMonth:function(){return this.formData.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.formData.cardMonth<this.minCardMonth&&(this.formData.cardMonth="")}},mounted:function(){this.maskCardNumber()},methods:{generateMonthValue:function(e){return e<10?"0".concat(e):e},changeName:function(e){this.formData.cardName=e.target.value,this.$emit("input-card-name",this.formData.cardName)},changeNumber:function(e){this.formData.cardNumber=e.target.value;var t=this.formData.cardNumber.replace(/\D/g,"");if(/^3[47]\d{0,13}$/.test(t)?(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(t)?(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=16):/^\d{0,16}$/.test(t)&&(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),this.cardNumberMaxLength=19),"deleteContentBackward"==e.inputType){var a=this.formData.cardNumber.substring(this.formData.cardNumber.length,this.formData.cardNumber.length-1);" "==a&&(this.formData.cardNumber=this.formData.cardNumber.substring(0,this.formData.cardNumber.length-1))}this.$emit("input-card-number",this.formData.cardNumber)},changeMonth:function(){this.$emit("input-card-month",this.formData.cardMonth)},changeYear:function(){this.$emit("input-card-year",this.formData.cardYear)},changeCvv:function(e){this.formData.cardCvv=e.target.value,this.$emit("input-card-cvv",this.formData.cardCvv)},invaildCard:function(){for(var e=this.formData.cardNumberNotMask.replace(/ /g,""),t=0,a=0;a<e.length;a++){var s=parseInt(e.substr(a,1));a%2===0&&(s*=2,s>9&&(s=1+s%10)),t+=s}t%10!==0||""==this.formData.cardNumber?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardNumber")}):""==this.formData.cardMonth?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardMonth")}):""==this.formData.cardYear?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardYear")}):""==this.formData.cardCvv?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardCVV")}):this.$emit("submit")},blurCardNumber:function(){this.isCardNumberMasked&&this.maskCardNumber()},maskCardNumber:function(){this.formData.cardNumberNotMask=this.formData.cardNumber,this.mainCardNumber=this.formData.cardNumber;var e=this.formData.cardNumber.split("");e.forEach((function(t,a){a>4&&a<14&&""!==t.trim()&&(e[a]="*")})),this.formData.cardNumber=e.join("")},unMaskCardNumber:function(){this.formData.cardNumber=this.mainCardNumber},focusCardNumber:function(){this.unMaskCardNumber()},toggleMask:function(){this.isCardNumberMasked=!this.isCardNumberMasked,this.isCardNumberMasked?this.maskCardNumber():this.unMaskCardNumber()}}},y=b,C=a("6544"),x=a.n(C),k=a("8336"),N=Object(v["a"])(y,d,u,!1,null,null,null),$=N.exports;x()(N,{VBtn:k["a"]});var w={components:{CardForm:$},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["getUser","selectedLocale"])),{},{itemExist:function(){var e=this.getUser;if(null==e)return!1;for(var t=e.wishes,a=0;a<t.length;a++)if(parseInt(this.service.id)==parseInt(t[a].service_id))return!0;return!1},getImage:function(){var e=this,t=this.service.workers.filter((function(t){return t.id==e.worker_id}));if(-1!=this.worker_id){var a=t[0].image;return a?"".concat(this.baseUrl,"uploads/workers/").concat(a):"".concat(this.baseUrl,"static/avatars/male.png")}return"".concat(this.baseUrl,"static/avatars/male.png")},isValid:function(){return null!=this.selected_date&&0!=this.selected_times.length&&(!(-1==this.payment&&this.step>1)&&((""!=this.company&&""!=this.insurance&&null!=this.image&&null!=this.image1||!(this.step>2)||0!=this.payment)&&(""!=this.formData.cardNumber&&""!=this.formData.cardName&&""!=this.formData.cardMonth&&""!=this.formData.cardYear&&""!=this.formData.cardCvv||!(this.step>2)||1!=this.payment)))},getSubTotal:function(){return parseFloat(this.selected_times.length*this.service.price*this.quantity).toFixed(2)},getTax:function(){return 0==this.service.tax?parseFloat(0).toFixed(2):parseFloat(this.getSubTotal*this.service.tax/100).toFixed(2)},getCoupons:function(){return 0==this.coupon_percent?parseFloat(0).toFixed(2):parseFloat(this.getSubTotal*this.coupon_percent/100).toFixed(2)},getTotal:function(){return parseFloat(parseFloat(this.getSubTotal)+parseFloat(this.getTax)-parseFloat(this.getCoupons)).toFixed(2)}}),data:function(){var e=this;return{loading:!1,baseUrl:c["a"].baseUrl,service_id:-1,service:null,requireRule:[function(t){return!!t||e.$t("message.fieldRequired")}],valid:!1,selected_date:null,selected_times:[],worker_id:-1,quantity:1,dialog:!1,step:1,payment:-1,company:"",insurance:"",imageType:-1,image:null,image1:null,coupon:"",coupon_percent:0,formData:{cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}}},methods:{getService:function(){var e=this;this.loading=!0,n["a"].get("getService/".concat(this.service_id),{headers:{"Content-Type":"application/json"}}).then((function(t){if(t.data.success){var a=t.data.data;e.service=a}})).finally((function(){e.loading=!1}))},getServiceSession:function(){var e=this,t={cancel_url:"".concat(this.baseUrl,"service/").concat(this.service_id,"/2"),success_url:"".concat(this.baseUrl),service_id:this.service_id,worker_id:this.worker_id,date:this.selected_date,times:this.selected_times,quantity:this.quantity,coupon:this.coupon_percent>0?this.coupon:"",type:"service",lang:"ar"==this.selectedLocale.locale?"ar":"en"};this.loading=!0,n["a"].post("getServiceSession",JSON.stringify(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){if(t.data.success){var a=t.data.data,s="";s=c["a"].payment_test?"https://uatcheckout.thawani.om/pay/":"https://checkout.thawani.om/pay/",window.location.href="".concat(s).concat(a,"?key=").concat(c["a"].payment_public_key)}else l["default"].notify({group:"center",type:"error",text:e.$t("message.sessionError")})})).finally((function(){e.loading=!1}))},addWish:function(){var e=this;if(null==this.getUser)l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")});else{this.loading=!0;var t={service_id:this.service.id,product_id:-1};n["a"].post("addWish",JSON.stringify(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success&&(l["default"].notify({group:"center",type:"success",text:e.$t("message.added2WishList")}),e.getUser.wishes.push(t.data.data),localStorage.setItem("user",JSON.stringify(e.getUser)))})).finally((function(){e.loading=!1}))}},booking:function(){null!=this.getUser?this.dialog=!0:l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")})},mydate:function(e){var t=new Date;if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e=new Date(e),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),t>e)return!1;if(this.service.offdays.length>0){var a=e.getDay();if(this.service.offdays.includes(a))return!1}if(this.service.holidays.length>0)for(var s=0;s<this.service.holidays.length;s++){var i=this.service.holidays[s],r=new Date(i.starting_date);r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var n=new Date(i.ending_date);if(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),e>=r&&e<=n)return!1}return!0},selectTime:function(e){this.selected_times.includes(e)?this.selected_times=this.selected_times.filter((function(t){return t.id!=e.id})):(1!=this.service.multiple_bookings&&(this.selected_times=[]),this.selected_times.push(e))},decreaseQuantity:function(){this.quantity>1&&this.quantity--},increaseQuantity:function(){this.quantity++},nextStep:function(){this.step++},beforeStep:function(){this.step--},chooseFiles:function(e){this.imageType=e,document.getElementById("fileUpload").click()},uploadImageFile:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var a=t[0],s=a["type"],i=["image/gif","image/jpeg","image/png","image/jpg"];i.includes(s)?this.createImage(a):l["default"].notify({group:"loggedIn",type:"error",text:this.$t("message.selectValidImage")})}},createImage:function(e){var t=this,a=new FileReader;a.onload=function(e){1==t.imageType?t.image=e.target.result:t.image1=e.target.result},a.readAsDataURL(e)},updateCardNumber:function(e){},updateCardName:function(e){},updateCardMonth:function(e){},updateCardYear:function(e){},updateCardCvv:function(e){},bookingWithInsurance:function(){var e=this,t={service_id:this.service_id,worker_id:this.worker_id,date:this.selected_date,times:this.selected_times,quantity:this.quantity,coupon:this.coupon_percent>0?this.coupon:"",type:"service",lang:"ar"==this.selectedLocale.locale?"ar":"en",company:this.company,insurance:this.insurance,image:this.image,image1:this.image1};this.loading=!0,n["a"].post("bookingWithInsurance",JSON.stringify(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success?(l["default"].notify({group:"center",type:"success",text:e.$t("message.bookingSuccess")}),e.step=1,e.payment=-1,e.image1=null,e.image=null,e.company="",e.insurance="",e.selected_times=[],e.quantity=1,e.selected_date=null,e.$router.push("/")):l["default"].notify({group:"center",type:"error",text:e.$t("message.bookingFailed")}),e.coupon="",e.coupon_percent=0})).catch((function(e){l["default"].notify({group:"center",type:"error",text:e})})).finally((function(){e.loading=!1}))},gotoPay:function(){"client"==this.getUser.role?this.getServiceSession():l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedClientRole")})},submit:function(){"client"==this.getUser.role?(0==this.payment&&this.bookingWithInsurance(),this.dialog=!1):l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedClientRole")})},applyCoupon:function(){var e=this;null!=this.getUser?""!=this.coupon&&(this.loading=!0,n["a"].post("checkCoupon",JSON.stringify({coupon:this.coupon,type:"service"}),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success?(e.coupon_percent=t.data.data,l["default"].notify({group:"center",type:"success",text:e.$t("message.couponApplied")})):l["default"].notify({group:"center",type:"error",text:e.$t("message.invalidCoupon")})})).finally((function(){e.loading=!1}))):l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")})}},mounted:function(){var e=this.$route.params.type;"3"==e&&l["default"].notify({group:"center",type:"success",text:this.$t("message.bookingSuccess")})},beforeMount:function(){var e=this.$route.params.service_id;this.service_id=e,this.getService()},watch:{coupon:function(){this.coupon_percent=0}}},D=w,S=(a("e7bf"),a("b0af")),M=a("62ad"),F=a("a523"),T=a("2e4b"),V=a("169a"),I=a("ce7e"),j=a("4bd4"),E=a("132d"),B=a("adda"),P=a("1d4d"),R=a("0fd9"),Y=a("b974"),L=(a("0481"),a("a9e3"),a("b0c0"),a("8836"),a("10d2")),O=a("3206"),q=a("a452"),U=a("58df"),A=a("d9bd"),z=Object(U["a"])(L["a"],Object(O["b"])("stepper"),q["a"]),H=z.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data:function(){var e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes:function(){return Object(r["a"])({"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},L["a"].options.computed.classes.call(this))},styles:function(){return Object(r["a"])({},L["a"].options.computed.styles.call(this))}},watch:{internalValue:function(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(A["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((function(t){return t!==e})):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((function(t){return t!==e})))},stepClick:function(e){var t=this;this.$nextTick((function(){return t.internalValue=e}))},updateView:function(){for(var e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(var t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(e){return e(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),W=a("0789"),J=a("80d2"),Q=Object(U["a"])(Object(O["a"])("stepper","v-stepper-content","v-stepper")),X=Q.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?W["e"]:W["f"]},styles:function(){return this.isVertical?{height:Object(J["g"])(this.height)}:{}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame((function(){t=e.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return e.isActive&&(e.height=t||"auto")}),450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return e.height=0}),10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={staticClass:"v-stepper__content"},a={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var s=e("div",a,[this.$slots.default]),i=e("div",t,[s]);return e(this.computedTransition,{on:this.$listeners},[i])}}),G=a("9d26"),K=a("a9ad"),Z=a("5607"),ee=Object(U["a"])(K["a"],Object(O["a"])("stepper","v-stepper-step","v-stepper")),te=ee.extend().extend({name:"v-stepper-step",directives:{ripple:Z["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(e){return!0!==e()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon:function(e){return this.$createElement(G["a"],e)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){return e("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}}),ae=Object(J["i"])("v-stepper__header"),se=Object(J["i"])("v-stepper__items"),ie=a("8654"),re=Object(v["a"])(D,s,i,!1,null,null,null);t["default"]=re.exports;x()(re,{VBtn:k["a"],VCard:S["a"],VCol:M["a"],VContainer:F["a"],VDatePicker:T["a"],VDialog:V["a"],VDivider:I["a"],VForm:j["a"],VIcon:E["a"],VImg:B["a"],VRating:P["a"],VRow:R["a"],VSelect:Y["a"],VStepper:H,VStepperContent:X,VStepperHeader:ae,VStepperItems:se,VStepperStep:te,VTextField:ie["a"]})},e7bf:function(e,t,a){"use strict";a("a09f")}}]);