(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32f2a0ca"],{"17fd":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("Card",{attrs:{fields:t.fields,labels:t.formData,isCardNumberMasked:t.isCardNumberMasked,randomBackgrounds:t.randomBackgrounds,backgroundImage:t.backgroundImage}})],1),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[t._v(t._s(t.$t("message.cardNumber")))]),a("input",{staticClass:"card-input__input",attrs:{type:"tel",id:t.fields.cardNumber,maxlength:t.cardNumberMaxLength,"data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardNumber},on:{input:t.changeNumber,focus:t.focusCardNumber,blur:t.blurCardNumber}}),a("button",{staticClass:"card-input__eye",class:{"-active":!t.isCardNumberMasked},attrs:{title:"Show/Hide card number",tabindex:"-1",disabled:""===t.formData.cardNumber},on:{click:t.toggleMask}})])]),a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[t._v(t._s(t.$t("message.cardName")))]),a("input",{directives:[{name:"letter-only",rawName:"v-letter-only"}],staticClass:"card-input__input",attrs:{type:"text",id:t.fields.cardName,"data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardName},on:{input:t.changeName}})])])]),a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-form__group"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[t._v(t._s(t.$t("message.expirationDate")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardMonth,expression:"formData.cardMonth"}],staticClass:"card-input__input -select",attrs:{id:t.fields.cardMonth,"data-card-field":""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"cardMonth",e.target.multiple?a:a[0])},t.changeMonth]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("message.month")))]),t._l(12,(function(e){return a("option",{key:e,attrs:{disabled:e<t.minCardMonth},domProps:{value:e<10?"0"+e:e}},[t._v(" "+t._s(t.generateMonthValue(e))+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardYear,expression:"formData.cardYear"}],staticClass:"card-input__input -select",attrs:{id:t.fields.cardYear,"data-card-field":""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"cardYear",e.target.multiple?a:a[0])},t.changeYear]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("message.year")))]),t._l(12,(function(e,r){return a("option",{key:e,domProps:{value:r+t.minCardYear}},[t._v(" "+t._s(r+t.minCardYear)+" ")])}))],2)])]),a("div",{staticClass:"card-form__col -cvv"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[t._v(t._s(t.$t("message.CVV")))]),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"card-input__input",attrs:{type:"tel",id:t.fields.cardCvv,maxlength:"4","data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardCvv},on:{input:t.changeCvv}})])])])]),t.submitButton?a("v-btn",{staticClass:"card-form__button",attrs:{loading:t.loading},on:{click:t.invaildCard}},[t._v(" "+t._s(t.$t("message.submit"))+" ")]):t._e()],1)},s=[],c=(a("ac1f"),a("5319"),a("1276"),a("159b"),a("498a"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-item",class:{"-active":t.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":t.focusElementStyle},style:t.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[t.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:t.currentCardBackground}}):t._e()]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}},[t.cardType?a("img",{key:t.cardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.cardType+".png",alt:""}}):t._e()])],1)]),a("label",{ref:t.fields.cardNumber,staticClass:"card-item__number",attrs:{for:t.fields.cardNumber}},[t._l(t.currentPlaceholder,(function(e,r){return a("span",{key:r},[a("transition",{attrs:{name:"slide-fade-up"}},[t.getIsNumberMasked(r,e)?a("div",{staticClass:"card-item__numberItem"},[t._v("*")]):t.labels.cardNumber.length>r?a("div",{key:t.currentPlaceholder,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(t.labels.cardNumber[r]))]):a("div",{key:t.currentPlaceholder+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(e))])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:t.fields.cardName,staticClass:"card-item__info",attrs:{for:t.fields.cardName}},[a("div",{staticClass:"card-item__holder"},[t._v(t._s(t.$t("message.cardHolder")))]),a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},t._l(t.labels.cardName.replace(/\s\s+/g," "),(function(e,r){return a("span",{key:r+1,staticClass:"card-item__nameItem"},[t._v(t._s(e))])})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[t._v(t._s(t.$t("message.fullName")))])])],1),a("div",{ref:"cardDate",staticClass:"card-item__date"},[a("label",{staticClass:"card-item__dateTitle",attrs:{for:t.fields.cardMonth}},[t._v(t._s(t.$t("message.expires")))]),a("label",{staticClass:"card-item__dateItem",attrs:{for:t.fields.cardMonth}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardMonth?a("span",{key:t.labels.cardMonth},[t._v(t._s(t.labels.cardMonth))]):a("span",{key:"2"},[t._v(t._s(t.$t("message.MM")))])])],1),t._v(" / "),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardYear?a("span",{key:t.labels.cardYear},[t._v(t._s(String(t.labels.cardYear).slice(2,4)))]):a("span",{key:"2"},[t._v(t._s(t.$t("message.YY")))])])],1)])])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[t.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:t.currentCardBackground}}):t._e()]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[t._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},t._l(t.labels.cardCvv,(function(e,r){return a("span",{key:r},[t._v("*")])})),0),a("div",{staticClass:"card-item__type"},[t.cardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.cardType+".png"}}):t._e()])])])])}),i=[],n=(a("4d63"),a("25f0"),a("466d"),a("99af"),{name:"Card",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},data:function(){return{focusElementStyle:null,currentFocus:null,isFocused:!1,isCardFlipped:!1,amexCardPlaceholder:"#### ###### #####",dinersCardPlaceholder:"#### ###### ####",defaultCardPlaceholder:"#### #### #### ####",currentPlaceholder:""}},watch:{currentFocus:function(){this.currentFocus?this.changeFocus():this.focusElementStyle=null},cardType:function(){this.changePlaceholder()}},mounted:function(){var t=this;this.changePlaceholder();var e=this,a=document.querySelectorAll("[data-card-field]");a.forEach((function(a){a.addEventListener("focus",(function(){t.isFocused=!0,a.id===t.fields.cardYear||a.id===t.fields.cardMonth?t.currentFocus="cardDate":t.currentFocus=a.id,t.isCardFlipped=a.id===t.fields.cardCvv})),a.addEventListener("blur",(function(){t.isCardFlipped=!a.id===t.fields.cardCvv,setTimeout((function(){e.isFocused||(e.currentFocus=null)}),300),e.isFocused=!1}))}))},computed:{cardType:function(){var t=this.labels.cardNumber,e=new RegExp("^4");return null!=t.match(e)?"visa":(e=new RegExp("^(34|37)"),null!=t.match(e)?"amex":(e=new RegExp("^5[1-5]"),null!=t.match(e)?"mastercard":(e=new RegExp("^6011"),null!=t.match(e)?"discover":(e=new RegExp("^62"),null!=t.match(e)?"unionpay":(e=new RegExp("^9792"),null!=t.match(e)?"troy":(e=new RegExp("^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}"),null!=t.match(e)?"dinersclub":(e=new RegExp("^35(2[89]|[3-8])"),null!=t.match(e)?"jcb":"")))))))},currentCardBackground:function(){if(this.randomBackgrounds&&!this.backgroundImage){var t=Math.floor(25*Math.random()+1);return"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(t,".jpeg")}return this.backgroundImage?this.backgroundImage:null}},methods:{changeFocus:function(){var t=this.$refs[this.currentFocus];this.focusElementStyle=t?{width:"".concat(t.offsetWidth,"px"),height:"".concat(t.offsetHeight,"px"),transform:"translateX(".concat(t.offsetLeft,"px) translateY(").concat(t.offsetTop,"px)")}:null},getIsNumberMasked:function(t,e){return t>4&&t<14&&this.labels.cardNumber.length>t&&""!==e.trim()&&this.isCardNumberMasked},changePlaceholder:function(){var t=this;"amex"===this.cardType?this.currentPlaceholder=this.amexCardPlaceholder:"dinersclub"===this.cardType?this.currentPlaceholder=this.dinersCardPlaceholder:this.currentPlaceholder=this.defaultCardPlaceholder,this.$nextTick((function(){t.changeFocus()}))}}}),o=n,l=a("2877"),d=Object(l["a"])(o,c,i,!1,null,null,null),u=d.exports,m=a("2b0e"),p={name:"CardForm",directives:{"number-only":{bind:function(t){function e(t){if(t.target.value=t.target.value.replace(/[^0-9]/g,""),t.charCode>=48&&t.charCode<=57)return!0;t.preventDefault()}t.addEventListener("keypress",e)}},"letter-only":{bind:function(t){function e(t){return t.charCode>=48&&t.charCode<=57&&t.preventDefault(),!0}t.addEventListener("keypress",e)}}},props:{formData:{type:Object,default:function(){return{cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}}},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},submitButton:{type:Boolean,default:!1}},components:{Card:u},data:function(){return{fields:{cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"},minCardYear:(new Date).getFullYear(),isCardNumberMasked:!0,mainCardNumber:this.cardNumber,cardNumberMaxLength:19}},computed:{minCardMonth:function(){return this.formData.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.formData.cardMonth<this.minCardMonth&&(this.formData.cardMonth="")}},mounted:function(){this.maskCardNumber()},methods:{generateMonthValue:function(t){return t<10?"0".concat(t):t},changeName:function(t){this.formData.cardName=t.target.value,this.$emit("input-card-name",this.formData.cardName)},changeNumber:function(t){this.formData.cardNumber=t.target.value;var e=this.formData.cardNumber.replace(/\D/g,"");if(/^3[47]\d{0,13}$/.test(e)?(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(e)?(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=16):/^\d{0,16}$/.test(e)&&(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),this.cardNumberMaxLength=19),"deleteContentBackward"==t.inputType){var a=this.formData.cardNumber.substring(this.formData.cardNumber.length,this.formData.cardNumber.length-1);" "==a&&(this.formData.cardNumber=this.formData.cardNumber.substring(0,this.formData.cardNumber.length-1))}this.$emit("input-card-number",this.formData.cardNumber)},changeMonth:function(){this.$emit("input-card-month",this.formData.cardMonth)},changeYear:function(){this.$emit("input-card-year",this.formData.cardYear)},changeCvv:function(t){this.formData.cardCvv=t.target.value,this.$emit("input-card-cvv",this.formData.cardCvv)},invaildCard:function(){for(var t=this.formData.cardNumberNotMask.replace(/ /g,""),e=0,a=0;a<t.length;a++){var r=parseInt(t.substr(a,1));a%2===0&&(r*=2,r>9&&(r=1+r%10)),e+=r}e%10!==0||""==this.formData.cardNumber?m["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardNumber")}):""==this.formData.cardMonth?m["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardMonth")}):""==this.formData.cardYear?m["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardYear")}):""==this.formData.cardCvv?m["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardCVV")}):this.$emit("submit")},blurCardNumber:function(){this.isCardNumberMasked&&this.maskCardNumber()},maskCardNumber:function(){this.formData.cardNumberNotMask=this.formData.cardNumber,this.mainCardNumber=this.formData.cardNumber;var t=this.formData.cardNumber.split("");t.forEach((function(e,a){a>4&&a<14&&""!==e.trim()&&(t[a]="*")})),this.formData.cardNumber=t.join("")},unMaskCardNumber:function(){this.formData.cardNumber=this.mainCardNumber},focusCardNumber:function(){this.unMaskCardNumber()},toggleMask:function(){this.isCardNumberMasked=!this.isCardNumberMasked,this.isCardNumberMasked?this.maskCardNumber():this.unMaskCardNumber()}}},h=p,f=a("6544"),v=a.n(f),g=a("8336"),_=Object(l["a"])(h,r,s,!1,null,null,null);e["a"]=_.exports;v()(_,{VBtn:g["a"]})},"25e7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-section-loader",{attrs:{status:t.loading}}),!t.loading&&t.cart.length>0?a("v-container",[a("v-row",{staticClass:"cart-wrapper"},[a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",xs:"12"}},[a("v-row",t._l(t.cart,(function(t,e){return a("div",{key:e+"_product",class:{"mt-5":0!=e}},[a("cart-item",{attrs:{product:t}})],1)})),0)],1),a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",xs:"12"}},[a("check-out")],1)],1)],1):t._e()],1)},s=[],c=a("5530"),i=(a("d3b7"),a("2f62")),n=a("365c"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-card",{staticClass:"border p-0",attrs:{customClasses:"product-item"}},[a("div",{staticClass:"d-custom-flex align-items-center"},[a("img",{attrs:{src:t.baseUrl+"uploads/products/"+t.product.image,height:"100px",width:"100px"}}),a("div",{staticClass:"d-flex flex-column px-2",staticStyle:{flex:"1"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(t.product["en"==t.selectedLocale.locale?"en_name":"ar_name"]))]),a("h6",{staticClass:"text-purple item-title mt-2"},[t._v(t._s(t.$t("message.currency"))+" "+t._s(t.product["price"]))]),a("div",{staticClass:"control-box d-flex justify-content-between mt-2"},[a("div",{staticClass:"d-flex flex-row align-items-center"},[a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:t.decreaseQuantity}},[a("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),a("div",{staticClass:"input-quantity"},[a("p",[t._v(t._s(t.product.quantity))])]),a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:t.increaseQuantity}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:t.deleteCart}},[a("v-icon",{attrs:{dark:"",small:""}},[t._v("ti-trash")])],1)],1)])])])},l=[],d=a("e065"),u={props:["product"],data:function(){return{loading:!1,baseUrl:d["a"].testMode?d["a"].localhost:d["a"].domain}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])(["cart","getUser","selectedLocale"])),{},{itemExist:function(){var t=this.getUser;if(null==t)return!1;for(var e=t.wishes,a=0;a<e.length;a++)if(parseInt(this.product.id)==parseInt(e[a].product_id))return!0;return!1},itemExistOnCart:function(){for(var t=this.cart,e=0;e<t.length;e++){var a=t[e];if(a.id==this.product.id)return!0}return!1}}),methods:{decreaseQuantity:function(){this.$store.dispatch("changeQuantityHandler",{product:this.product,quantity:-1})},increaseQuantity:function(){this.$store.dispatch("changeQuantityHandler",{product:this.product,quantity:1})},deleteCart:function(){this.$store.dispatch("onDeleteProductFromCart",{product:this.product})}}},m=u,p=a("2877"),h=a("6544"),f=a.n(h),v=a("8336"),g=a("132d"),_=Object(p["a"])(m,o,l,!1,null,null,null),b=_.exports;f()(_,{VBtn:v["a"],VIcon:g["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-card",{staticClass:"border",attrs:{customClasses:"product-item"}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"d-flex flex-direction-row"},[a("v-text-field",{attrs:{color:"warning",rules:t.requireRule,required:"",label:t.$t("message.couponCode"),solo:"",disabled:t.loading||t.coupon_percent>0},model:{value:t.coupon,callback:function(e){t.coupon=e},expression:"coupon"}}),a("v-btn",{staticClass:"ml-2",attrs:{color:"warning",height:"48px",disabled:t.coupon_percent>0},on:{click:t.applyCoupon}},[t._v(t._s(t.$t("message.apply")))])],1),a("h5",{staticClass:"text-purple"},[t._v(" "+t._s(1==t.cart.length?t.$t("message.thereIs")+" 1 "+t.$t("message.item"):t.$t("message.thereAre")+" "+t.cart.length+" "+t.$t("message.items"))+" ")]),a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(t.$t("message.name")))])]),a("v-col",{attrs:{cols:"2"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(t.$t("message.quantity")))])]),a("v-col",{attrs:{cols:"2"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(t.$t("message.price")))])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(t.$t("message.total")))])])],1),t._l(t.cart,(function(e,r){return a("div",{key:r+"_cart",staticClass:"mt-2"},[a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{cols:"5"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(e["en"==t.selectedLocale.locale?"en_name":"ar_name"])+" ")])]),a("v-col",{attrs:{cols:"2"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(e.quantity))])]),a("v-col",{attrs:{cols:"2"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(t._s(e.price))])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s((e.price*e.quantity).toFixed(2))+" ")])])],1)],1)})),a("v-divider"),a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{cols:"9"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.subTotal"))+" ")])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getSubTotal)+" ")])])],1),a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{cols:"9"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.tax"))+" ")])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getTax)+" ")])])],1),a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{cols:"9"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.coupons"))+" ")])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" - "+t._s(t.$t("message.currency"))+" "+t._s(t.getCoupons)+" ")])])],1),a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{cols:"9"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.total"))+" ")])]),a("v-col",{attrs:{cols:"3"}},[a("h6",{staticClass:"text-purple item-title"},[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getTotal)+" ")])])],1),a("div",{staticClass:"mt-5"},[a("v-btn",{staticClass:"checkout-button",attrs:{block:"",loading:t.loading,disabled:t.loading},on:{click:t.checkOut}},[t._v(t._s(t.$t("message.checkout")))])],1)],2)])],1)},y=[],x=(a("159b"),a("b680"),a("99af"),a("2b0e")),N=a("17fd"),k={components:{CardForm:N["a"]},data:function(){var t=this;return{loading:!1,baseUrl:d["a"].testMode?d["a"].localhost:d["a"].domain,coupon:"",coupon_percent:0,requireRule:[function(e){return!!e||t.$t("message.fieldRequired")}],formData:{cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""},dialog:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])(["cart","getUser","selectedLocale"])),{},{getSubTotal:function(){var t=0;return this.cart.forEach((function(e){t+=e.price*e.quantity})),t=t.toFixed(2),t},getTax:function(){var t=0;return this.cart.forEach((function(e){t+=e.price*e.quantity*e.tax/100})),t=t.toFixed(2),t},getCoupons:function(){return 0==this.coupon_percent?parseFloat(0).toFixed(2):parseFloat(this.getSubTotal*this.coupon_percent/100).toFixed(2)},getTotal:function(){var t=0;return t=(parseFloat(this.getSubTotal)+parseFloat(this.getTax)-parseFloat(this.getCoupons)).toFixed(2),t}}),methods:{checkOut:function(){null==this.getUser?x["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")}):this.getProductSession()},applyCoupon:function(){var t=this;null!=this.getUser?""!=this.coupon&&(this.loading=!0,n["a"].post("checkCoupon",JSON.stringify({coupon:this.coupon,type:"product"}),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success?(t.coupon_percent=e.data.data,x["default"].notify({group:"center",type:"success",text:t.$t("message.couponApplied")})):x["default"].notify({group:"center",type:"error",text:t.$t("message.invalidCoupon")})})).finally((function(){t.loading=!1}))):x["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")})},getProductSession:function(){var t=this,e={cancel_url:"".concat(this.baseUrl,"carts/2"),success_url:"".concat(this.baseUrl,"carts/3"),carts:this.cart,coupon:this.coupon_percent>0?this.coupon:"",type:"product",lang:"ar"==this.selectedLocale.locale?"ar":"en"};this.loading=!0,n["a"].post("getProductSession",JSON.stringify(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){if(e.data.success){var a=e.data.data,r="";r=d["a"].payment_test?"https://uatcheckout.thawani.om/pay/":"https://checkout.thawani.om/pay/",window.location.href="".concat(r).concat(a,"?key=").concat(d["a"].payment_public_key)}else x["default"].notify({group:"center",type:"error",text:t.$t("message.sessionError")})})).finally((function(){t.loading=!1}))}}},$=k,M=(a("540b"),a("62ad")),w=a("ce7e"),D=a("0fd9"),F=a("8654"),E=Object(p["a"])($,C,y,!1,null,null,null),T=E.exports;f()(E,{VBtn:v["a"],VCol:M["a"],VDivider:w["a"],VRow:D["a"],VTextField:F["a"]});var Y={computed:Object(c["a"])({},Object(i["b"])(["getUser","selectedLocale","cart"])),components:{CartItem:b,CheckOut:T},data:function(){return{loading:!1}},methods:{getCarts:function(){var t=this;this.loading=!0,n["a"].post("getCarts",JSON.stringify(this.cart),{headers:{"Content-Type":"application/json"}}).then((function(e){if(e.data.success){var a=e.data.data;t.$store.dispatch("updateCart",a)}})).finally((function(){t.loading=!1}))}},mounted:function(){},beforeMount:function(){var t=this.$route.params.type;"3"==t&&(x["default"].notify({group:"center",type:"success",text:this.$t("message.orderingSuccess")}),this.$store.dispatch("updateCart",[])),this.getCarts()},watch:{cart:function(){0==this.cart.length&&this.$router.push("/")}}},O=Y,P=a("a523"),j=Object(p["a"])(O,r,s,!1,null,null,null);e["default"]=j.exports;f()(j,{VCol:M["a"],VContainer:P["a"],VRow:D["a"]})},"4d63":function(t,e,a){var r=a("83ab"),s=a("da84"),c=a("94ca"),i=a("7156"),n=a("9bf2").f,o=a("241c").f,l=a("44e7"),d=a("ad6d"),u=a("9f7f"),m=a("6eeb"),p=a("d039"),h=a("69f3").enforce,f=a("2626"),v=a("b622"),g=v("match"),_=s.RegExp,b=_.prototype,C=/a/g,y=/a/g,x=new _(C)!==C,N=u.UNSUPPORTED_Y,k=r&&c("RegExp",!x||N||p((function(){return y[g]=!1,_(C)!=C||_(y)==y||"/a/i"!=_(C,"i")})));if(k){var $=function(t,e){var a,r=this instanceof $,s=l(t),c=void 0===e;if(!r&&s&&t.constructor===$&&c)return t;x?s&&!c&&(t=t.source):t instanceof $&&(c&&(e=d.call(t)),t=t.source),N&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var n=i(x?new _(t,e):_(t,e),r?this:b,$);if(N&&a){var o=h(n);o.sticky=!0}return n},M=function(t){t in $||n($,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},w=o(_),D=0;while(w.length>D)M(w[D++]);b.constructor=$,$.prototype=b,m(s,"RegExp",$)}f("RegExp")},"540b":function(t,e,a){"use strict";a("a62d")},a62d:function(t,e,a){}}]);