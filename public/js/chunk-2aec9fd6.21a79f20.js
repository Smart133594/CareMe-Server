(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aec9fd6"],{"4d63":function(t,e,a){var s=a("83ab"),i=a("da84"),r=a("94ca"),n=a("7156"),c=a("9bf2").f,o=a("241c").f,l=a("44e7"),d=a("ad6d"),u=a("9f7f"),p=a("6eeb"),m=a("d039"),h=a("69f3").enforce,f=a("2626"),v=a("b622"),g=v("match"),_=i.RegExp,b=_.prototype,y=/a/g,C=/a/g,x=new _(y)!==y,k=u.UNSUPPORTED_Y,w=s&&r("RegExp",!x||k||m((function(){return C[g]=!1,_(y)!=y||_(C)==C||"/a/i"!=_(y,"i")})));if(w){var N=function(t,e){var a,s=this instanceof N,i=l(t),r=void 0===e;if(!s&&i&&t.constructor===N&&r)return t;x?i&&!r&&(t=t.source):t instanceof N&&(r&&(e=d.call(t)),t=t.source),k&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var c=n(x?new _(t,e):_(t,e),s?this:b,N);if(k&&a){var o=h(c);o.sticky=!0}return c},$=function(t){t in N||c(N,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},S=o(_),D=0;while(S.length>D)$(S[D++]);b.constructor=N,N.prototype=b,p(i,"RegExp",N)}f("RegExp")},8836:function(t,e,a){},a09f:function(t,e,a){},db58:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-section-loader",{attrs:{status:t.loading}}),t.service?a("v-container",[a("v-row",{staticClass:"px-0"},[a("v-col",{staticClass:"shop-wrapper px-5",attrs:{xl:"6",lg:"6",md:"6",sm:"12",xs:"12"}},[a("img",{staticClass:"border",attrs:{src:t.baseUrl+"uploads/servicies/"+t.service.image,height:"100%",width:"100%"}})]),a("v-col",{staticClass:"shop-wrapper px-5",attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("h5",{staticClass:"mt-2 text-purple",staticStyle:{"font-size":"26px","font-weight":"700"}},[t._v(" "+t._s(t.service["en"==t.selectedLocale.locale?"en_name":"ar_name"])+" ")]),a("h6",{staticClass:"font-weight--bold mt-2 text-purple"},[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.service.price)+" ")]),a("v-rating",{staticStyle:{"margin-left":"-10px"},attrs:{readonly:"","background-color":"orange",color:"orange"},model:{value:t.service.rating,callback:function(e){t.$set(t.service,"rating",e)},expression:"service.rating"}}),a("div",{staticClass:"d-flex flex-direction-row mt-2"},[a("v-text-field",{attrs:{color:"warning",rules:t.requireRule,required:"",label:t.$t("message.couponCode"),solo:"",disabled:t.loading||t.coupon_percent>0},model:{value:t.coupon,callback:function(e){t.coupon=e},expression:"coupon"}}),a("v-btn",{staticClass:"ml-2",attrs:{color:"warning",height:"48px",disabled:t.coupon_percent>0},on:{click:t.applyCoupon}},[t._v(t._s(t.$t("message.apply")))])],1),a("div",{staticClass:"d-custom-flex align-items-center"},[a("v-btn",{staticStyle:{flex:"1"},attrs:{color:"secondary mr-1",disabled:t.itemExist},on:{click:t.addWish}},[t._v(t._s(t.itemExist?t.$t("message.added2wishes"):t.$t("message.add2wishlist")))]),a("v-btn",{staticStyle:{flex:"1"},attrs:{loading:t.loading,disabled:t.loading,color:"info ml-1"},on:{click:t.booking}},[t._v(t._s(t.$t("message.booking")))])],1),a("div",{staticClass:"d-custom-flex align-items-center mt-5"},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"ti-location-pin"})]),a("h6",{staticClass:"text-purple pl-5"},[t._v(" "+t._s(t.service["en"==t.selectedLocale.locale?"en_address":"ar_address"])+" ")])]),a("div",{staticClass:"d-custom-flex align-items-center mt-2"},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"zmdi zmdi-phone"})]),a("h6",{staticClass:"text-purple pl-5"},[t._v(" "+t._s(t.service.phone)+" ")])]),a("div",{staticClass:"shareOn mt-4 mb-3"},[a("ul",{staticClass:"footer-widget__contact p-0",staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"between"}},[a("h4",{staticClass:"my-4 mr-5"},[t._v(t._s(t.$t("message.shareOn")))]),a("li",{staticStyle:{"margin-right":"0.55rem"}},[a("a",{staticStyle:{color:"black"},attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+t.fullUrl}},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"26px"}},[a("i",{staticClass:"ti-facebook"})])])]),a("li",{staticStyle:{"margin-right":"0.55rem"}},[a("a",{staticStyle:{color:"black"},attrs:{target:"_blank",href:"https://twitter.com/home?status="+t.fullUrl}},[a("span",{staticClass:"icon-style",staticStyle:{"font-size":"26px"}},[a("i",{staticClass:"ti-twitter-alt"})])])])])]),a("h5",{staticClass:"font-weight--bold text-purple mt-5"},[t._v(" "+t._s(t.$t("message.description"))+" ")]),a("div",{staticClass:"font-weight--bold text-purple mt-2"},[t._v(" "+t._s(t.service["en"==t.selectedLocale.locale?"en_description":"ar_description"])+" ")])],1)],1)],1):t._e(),a("v-dialog",{attrs:{persistent:"","max-width":"700","content-class":"step-dialog"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"d-flex justify-content-end"},[a("v-btn",{staticStyle:{"background-color":"black",position:"relative",bottom:"-20px","z-index":"999",right:"0"},attrs:{color:"white",icon:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card",[t.service?a("v-stepper",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",complete:t.step>1}},[t._v(t._s(t.$t("message.makeBooking")))]),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",complete:t.step>2}},[t._v(t._s(t.$t("message.choosePayment")))]),a("v-divider"),a("v-stepper-step",{attrs:{step:"3"}},[t._v(t._s(t.$t("message.paymentDetails")))])],1),a("v-stepper-items",[a("v-stepper-content",{staticClass:"step-content",attrs:{step:"1"}},[a("v-row",[a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-date-picker",{attrs:{"allowed-dates":t.mydate},model:{value:t.selected_date,callback:function(e){t.selected_date=e},expression:"selected_date"}})],1),t.selected_date?a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},t._l(t.service.times,(function(e,s){return a("v-btn",{key:s+"time",staticClass:"mt-2",attrs:{color:"primary",outlined:!t.selected_times.includes(e),block:""},on:{click:function(a){return t.selectTime(e)}}},[t._v(" "+t._s(e.from_time)+" ~ "+t._s(e.to_time)+" ")])})),1):t._e()],1),t.selected_times.length>0?a("v-row",{staticClass:"align-items-center"},[a("v-col",{attrs:{xl:"8",lg:"8",md:"8",sm:"12",cols:"12"}},[a("div",{staticClass:"control-box d-flex ml-2 flex-row align-items-center"},[a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:t.decreaseQuantity}},[a("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),a("div",{staticClass:"input-quantity"},[a("p",[t._v(t._s(t.quantity))])]),a("v-btn",{staticClass:"control-button border",attrs:{text:"",small:""},on:{click:t.increaseQuantity}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1)]),a("v-col",{attrs:{xl:"4",lg:"4",md:"4",sm:"12",cols:"12"}},[a("p",{staticClass:"font-weight--bold text-purple"},[t._v(" "+t._s(t.$t("message.price"))+" : "+t._s(t.$t("message.currency"))+" "+t._s(t.service.price*t.selected_times.length*t.quantity)+t._s(" ("+t.service.price+"*"+t.selected_times.length+"*"+t.quantity+")")+" ")])])],1):t._e(),t.selected_date?a("v-row",[a("v-col",{attrs:{xl:"8",lg:"8",md:"8",sm:"8",cols:"8"}},[a("v-select",{attrs:{label:t.$t("message.worker"),"item-text":"full_name","item-value":"id",items:t.service.workers},model:{value:t.worker_id,callback:function(e){t.worker_id=e},expression:"worker_id"}})],1),a("v-col",{attrs:{xl:"4",lg:"4",md:"4",sm:"4",cols:"4"}},[a("img",{staticClass:"rounded-circle",attrs:{src:t.getImage,width:"50px",height:"50px"}})])],1):t._e()],1),a("v-stepper-content",{staticClass:"step-content",attrs:{step:"2"}},[a("div",{staticClass:"d-flex flex-direction-column px-5"},[a("div",[a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.price")))]),a("h6",[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(parseFloat(t.service.price).toFixed(2))+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.times")))]),a("h6",[t._v(t._s(t.selected_times.length))])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.quantity")))]),a("h6",[t._v(t._s(t.quantity))])]),a("v-divider"),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.subTotal")))]),a("h6",[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getSubTotal)+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.tax")))]),a("h6",[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getTax)+" ")])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(" "+t._s(t.$t("message.coupons"))+t._s("("+t.coupon_percent+" %)")+" ")]),a("h6",[t._v("- "+t._s(t.$t("message.currency"))+" "+t._s(t.getCoupons))])]),a("div",{staticClass:"d-flex flex-direction-row align-items-center justify-content-between m-2"},[a("h6",[t._v(t._s(t.$t("message.total")))]),a("h6",[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(t.getTotal)+" ")])])],1),a("v-btn",{attrs:{block:"",height:"50",outlined:0!=t.payment,disabled:t.loading,color:"primary"},on:{click:function(e){t.payment=0}}},[t._v(t._s(t.$t("message.insurancePay")))]),a("v-btn",{staticClass:"mt-3",attrs:{block:"",height:"50",outlined:1!=t.payment,disabled:t.loading,loading:t.loading,color:"primary"},on:{click:t.gotoPay}},[t._v(t._s(t.$t("message.creditCardPay")))])],1)]),a("v-stepper-content",{staticClass:"step-content p-0",attrs:{step:"3"}},[0==t.payment?a("div",[a("v-form",{staticClass:"pa-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-text-field",{attrs:{label:t.$t("message.companyName"),rules:t.requireRule,required:""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),a("v-row",[a("v-text-field",{attrs:{label:t.$t("message.insuranceReferenceNumber"),rules:t.requireRule,required:""},model:{value:t.insurance,callback:function(e){t.insurance=e},expression:"insurance"}})],1),a("h6",{staticClass:"text-purple mt-2"},[t._v(" "+t._s(t.$t("message.uploadDetails"))+" ")]),a("v-row",[a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-img",{staticClass:"my-2 border",staticStyle:{height:"200px"},attrs:{src:t.image?t.image:"/static/img/insurance.png","aspect-ratio":"1",border:""},on:{click:function(e){return t.chooseFiles(1)}}})],1),a("v-col",{attrs:{xl:"6",lg:"6",md:"6",sm:"12",cols:"12"}},[a("v-img",{staticClass:"my-2 border",staticStyle:{height:"200px"},attrs:{src:t.image1?t.image1:"/static/img/idcard.png","aspect-ratio":"1"},on:{click:function(e){return t.chooseFiles(2)}}})],1)],1),a("input",{attrs:{id:"fileUpload",type:"file",hidden:"",accept:[".jpg",".jpeg",".gif",".png"]},on:{change:t.uploadImageFile}})],1)],1):t._e(),1==t.payment?a("div",{staticClass:"mt-2"},[a("CardForm",{attrs:{"form-data":t.formData,randomBackgrounds:!1,loading:t.loading},on:{"input-card-number":t.updateCardNumber,"input-card-name":t.updateCardName,"input-card-month":t.updateCardMonth,"input-card-year":t.updateCardYear,"input-card-cvv":t.updateCardCvv}})],1):t._e()]),a("div",{staticClass:"p-2"},[t.step>1?a("v-btn",{attrs:{color:"secondary"},on:{click:t.beforeStep}},[t._v(t._s(t.$t("message.back")))]):t._e(),t.step<3?a("v-btn",{staticClass:"ml-2",attrs:{color:"info",disabled:!t.isValid},on:{click:t.nextStep}},[t._v(t._s(t.$t("message.continue")))]):t._e(),3==t.step?a("v-btn",{staticClass:"ml-2",attrs:{color:"success",disabled:!t.isValid},on:{click:t.submit}},[t._v(t._s(t.$t("message.submit")))]):t._e()],1)],1)],1):t._e()],1)],1)],1)},i=[],r=a("5530"),n=(a("4de4"),a("99af"),a("b680"),a("d3b7"),a("caad"),a("2532"),a("365c")),c=a("e065"),o=a("2f62"),l=a("2b0e"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("Card",{attrs:{fields:t.fields,labels:t.formData,isCardNumberMasked:t.isCardNumberMasked,randomBackgrounds:t.randomBackgrounds,backgroundImage:t.backgroundImage}})],1),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[t._v(t._s(t.$t("message.cardNumber")))]),a("input",{staticClass:"card-input__input",attrs:{type:"tel",id:t.fields.cardNumber,maxlength:t.cardNumberMaxLength,"data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardNumber},on:{input:t.changeNumber,focus:t.focusCardNumber,blur:t.blurCardNumber}}),a("button",{staticClass:"card-input__eye",class:{"-active":!t.isCardNumberMasked},attrs:{title:"Show/Hide card number",tabindex:"-1",disabled:""===t.formData.cardNumber},on:{click:t.toggleMask}})])]),a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[t._v(t._s(t.$t("message.cardName")))]),a("input",{directives:[{name:"letter-only",rawName:"v-letter-only"}],staticClass:"card-input__input",attrs:{type:"text",id:t.fields.cardName,"data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardName},on:{input:t.changeName}})])])]),a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-form__group"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[t._v(t._s(t.$t("message.expirationDate")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardMonth,expression:"formData.cardMonth"}],staticClass:"card-input__input -select",attrs:{id:t.fields.cardMonth,"data-card-field":""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"cardMonth",e.target.multiple?a:a[0])},t.changeMonth]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("message.month")))]),t._l(12,(function(e){return a("option",{key:e,attrs:{disabled:e<t.minCardMonth},domProps:{value:e<10?"0"+e:e}},[t._v(" "+t._s(t.generateMonthValue(e))+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardYear,expression:"formData.cardYear"}],staticClass:"card-input__input -select",attrs:{id:t.fields.cardYear,"data-card-field":""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"cardYear",e.target.multiple?a:a[0])},t.changeYear]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("message.year")))]),t._l(12,(function(e,s){return a("option",{key:e,domProps:{value:s+t.minCardYear}},[t._v(" "+t._s(s+t.minCardYear)+" ")])}))],2)])]),a("div",{staticClass:"card-form__col -cvv"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[t._v(t._s(t.$t("message.CVV")))]),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"card-input__input",attrs:{type:"tel",id:t.fields.cardCvv,maxlength:"4","data-card-field":"",autocomplete:"off"},domProps:{value:t.formData.cardCvv},on:{input:t.changeCvv}})])])])]),t.submitButton?a("v-btn",{staticClass:"card-form__button",attrs:{loading:t.loading},on:{click:t.invaildCard}},[t._v(" "+t._s(t.$t("message.submit"))+" ")]):t._e()],1)},u=[],p=(a("ac1f"),a("5319"),a("1276"),a("159b"),a("498a"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-item",class:{"-active":t.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":t.focusElementStyle},style:t.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[t.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:t.currentCardBackground}}):t._e()]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}},[t.cardType?a("img",{key:t.cardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.cardType+".png",alt:""}}):t._e()])],1)]),a("label",{ref:t.fields.cardNumber,staticClass:"card-item__number",attrs:{for:t.fields.cardNumber}},[t._l(t.currentPlaceholder,(function(e,s){return a("span",{key:s},[a("transition",{attrs:{name:"slide-fade-up"}},[t.getIsNumberMasked(s,e)?a("div",{staticClass:"card-item__numberItem"},[t._v("*")]):t.labels.cardNumber.length>s?a("div",{key:t.currentPlaceholder,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(t.labels.cardNumber[s]))]):a("div",{key:t.currentPlaceholder+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(e))])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:t.fields.cardName,staticClass:"card-item__info",attrs:{for:t.fields.cardName}},[a("div",{staticClass:"card-item__holder"},[t._v(t._s(t.$t("message.cardHolder")))]),a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},t._l(t.labels.cardName.replace(/\s\s+/g," "),(function(e,s){return a("span",{key:s+1,staticClass:"card-item__nameItem"},[t._v(t._s(e))])})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[t._v(t._s(t.$t("message.fullName")))])])],1),a("div",{ref:"cardDate",staticClass:"card-item__date"},[a("label",{staticClass:"card-item__dateTitle",attrs:{for:t.fields.cardMonth}},[t._v(t._s(t.$t("message.expires")))]),a("label",{staticClass:"card-item__dateItem",attrs:{for:t.fields.cardMonth}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardMonth?a("span",{key:t.labels.cardMonth},[t._v(t._s(t.labels.cardMonth))]):a("span",{key:"2"},[t._v(t._s(t.$t("message.MM")))])])],1),t._v(" / "),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.labels.cardYear?a("span",{key:t.labels.cardYear},[t._v(t._s(String(t.labels.cardYear).slice(2,4)))]):a("span",{key:"2"},[t._v(t._s(t.$t("message.YY")))])])],1)])])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[t.currentCardBackground?a("img",{staticClass:"card-item__bg",attrs:{src:t.currentCardBackground}}):t._e()]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[t._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},t._l(t.labels.cardCvv,(function(e,s){return a("span",{key:s},[t._v("*")])})),0),a("div",{staticClass:"card-item__type"},[t.cardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.cardType+".png"}}):t._e()])])])])}),m=[],h=(a("4d63"),a("25f0"),a("466d"),{name:"Card",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},data:function(){return{focusElementStyle:null,currentFocus:null,isFocused:!1,isCardFlipped:!1,amexCardPlaceholder:"#### ###### #####",dinersCardPlaceholder:"#### ###### ####",defaultCardPlaceholder:"#### #### #### ####",currentPlaceholder:""}},watch:{currentFocus:function(){this.currentFocus?this.changeFocus():this.focusElementStyle=null},cardType:function(){this.changePlaceholder()}},mounted:function(){var t=this;this.changePlaceholder();var e=this,a=document.querySelectorAll("[data-card-field]");a.forEach((function(a){a.addEventListener("focus",(function(){t.isFocused=!0,a.id===t.fields.cardYear||a.id===t.fields.cardMonth?t.currentFocus="cardDate":t.currentFocus=a.id,t.isCardFlipped=a.id===t.fields.cardCvv})),a.addEventListener("blur",(function(){t.isCardFlipped=!a.id===t.fields.cardCvv,setTimeout((function(){e.isFocused||(e.currentFocus=null)}),300),e.isFocused=!1}))}))},computed:{cardType:function(){var t=this.labels.cardNumber,e=new RegExp("^4");return null!=t.match(e)?"visa":(e=new RegExp("^(34|37)"),null!=t.match(e)?"amex":(e=new RegExp("^5[1-5]"),null!=t.match(e)?"mastercard":(e=new RegExp("^6011"),null!=t.match(e)?"discover":(e=new RegExp("^62"),null!=t.match(e)?"unionpay":(e=new RegExp("^9792"),null!=t.match(e)?"troy":(e=new RegExp("^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}"),null!=t.match(e)?"dinersclub":(e=new RegExp("^35(2[89]|[3-8])"),null!=t.match(e)?"jcb":"")))))))},currentCardBackground:function(){if(this.randomBackgrounds&&!this.backgroundImage){var t=Math.floor(25*Math.random()+1);return"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(t,".jpeg")}return this.backgroundImage?this.backgroundImage:null}},methods:{changeFocus:function(){var t=this.$refs[this.currentFocus];this.focusElementStyle=t?{width:"".concat(t.offsetWidth,"px"),height:"".concat(t.offsetHeight,"px"),transform:"translateX(".concat(t.offsetLeft,"px) translateY(").concat(t.offsetTop,"px)")}:null},getIsNumberMasked:function(t,e){return t>4&&t<14&&this.labels.cardNumber.length>t&&""!==e.trim()&&this.isCardNumberMasked},changePlaceholder:function(){var t=this;"amex"===this.cardType?this.currentPlaceholder=this.amexCardPlaceholder:"dinersclub"===this.cardType?this.currentPlaceholder=this.dinersCardPlaceholder:this.currentPlaceholder=this.defaultCardPlaceholder,this.$nextTick((function(){t.changeFocus()}))}}}),f=h,v=a("2877"),g=Object(v["a"])(f,p,m,!1,null,null,null),_=g.exports,b={name:"CardForm",directives:{"number-only":{bind:function(t){function e(t){if(t.target.value=t.target.value.replace(/[^0-9]/g,""),t.charCode>=48&&t.charCode<=57)return!0;t.preventDefault()}t.addEventListener("keypress",e)}},"letter-only":{bind:function(t){function e(t){return t.charCode>=48&&t.charCode<=57&&t.preventDefault(),!0}t.addEventListener("keypress",e)}}},props:{formData:{type:Object,default:function(){return{cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}}},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},submitButton:{type:Boolean,default:!1}},components:{Card:_},data:function(){return{fields:{cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"},minCardYear:(new Date).getFullYear(),isCardNumberMasked:!0,mainCardNumber:this.cardNumber,cardNumberMaxLength:19}},computed:{minCardMonth:function(){return this.formData.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.formData.cardMonth<this.minCardMonth&&(this.formData.cardMonth="")}},mounted:function(){this.maskCardNumber()},methods:{generateMonthValue:function(t){return t<10?"0".concat(t):t},changeName:function(t){this.formData.cardName=t.target.value,this.$emit("input-card-name",this.formData.cardName)},changeNumber:function(t){this.formData.cardNumber=t.target.value;var e=this.formData.cardNumber.replace(/\D/g,"");if(/^3[47]\d{0,13}$/.test(e)?(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(e)?(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=16):/^\d{0,16}$/.test(e)&&(this.formData.cardNumber=e.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),this.cardNumberMaxLength=19),"deleteContentBackward"==t.inputType){var a=this.formData.cardNumber.substring(this.formData.cardNumber.length,this.formData.cardNumber.length-1);" "==a&&(this.formData.cardNumber=this.formData.cardNumber.substring(0,this.formData.cardNumber.length-1))}this.$emit("input-card-number",this.formData.cardNumber)},changeMonth:function(){this.$emit("input-card-month",this.formData.cardMonth)},changeYear:function(){this.$emit("input-card-year",this.formData.cardYear)},changeCvv:function(t){this.formData.cardCvv=t.target.value,this.$emit("input-card-cvv",this.formData.cardCvv)},invaildCard:function(){for(var t=this.formData.cardNumberNotMask.replace(/ /g,""),e=0,a=0;a<t.length;a++){var s=parseInt(t.substr(a,1));a%2===0&&(s*=2,s>9&&(s=1+s%10)),e+=s}e%10!==0||""==this.formData.cardNumber?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardNumber")}):""==this.formData.cardMonth?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardMonth")}):""==this.formData.cardYear?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardYear")}):""==this.formData.cardCvv?l["default"].notify({group:"center",type:"error",text:this.$t("message.invalidCardCVV")}):this.$emit("submit")},blurCardNumber:function(){this.isCardNumberMasked&&this.maskCardNumber()},maskCardNumber:function(){this.formData.cardNumberNotMask=this.formData.cardNumber,this.mainCardNumber=this.formData.cardNumber;var t=this.formData.cardNumber.split("");t.forEach((function(e,a){a>4&&a<14&&""!==e.trim()&&(t[a]="*")})),this.formData.cardNumber=t.join("")},unMaskCardNumber:function(){this.formData.cardNumber=this.mainCardNumber},focusCardNumber:function(){this.unMaskCardNumber()},toggleMask:function(){this.isCardNumberMasked=!this.isCardNumberMasked,this.isCardNumberMasked?this.maskCardNumber():this.unMaskCardNumber()}}},y=b,C=a("6544"),x=a.n(C),k=a("8336"),w=Object(v["a"])(y,d,u,!1,null,null,null),N=w.exports;x()(w,{VBtn:k["a"]});var $={components:{CardForm:N},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["getUser","selectedLocale"])),{},{itemExist:function(){var t=this.getUser;if(null==t)return!1;for(var e=t.wishes,a=0;a<e.length;a++)if(parseInt(this.service.id)==parseInt(e[a].service_id))return!0;return!1},getImage:function(){var t=this,e=this.service.workers.filter((function(e){return e.id==t.worker_id}));if(-1!=this.worker_id){var a=e[0].image;return a?"".concat(this.baseUrl,"uploads/workers/").concat(a):"".concat(this.baseUrl,"static/avatars/male.png")}return"".concat(this.baseUrl,"static/avatars/male.png")},isValid:function(){return null!=this.selected_date&&0!=this.selected_times.length&&(!(-1==this.payment&&this.step>1)&&((""!=this.company&&""!=this.insurance&&null!=this.image&&null!=this.image1||!(this.step>2)||0!=this.payment)&&(""!=this.formData.cardNumber&&""!=this.formData.cardName&&""!=this.formData.cardMonth&&""!=this.formData.cardYear&&""!=this.formData.cardCvv||!(this.step>2)||1!=this.payment)))},getSubTotal:function(){return parseFloat(this.selected_times.length*this.service.price*this.quantity).toFixed(2)},getTax:function(){return 0==this.service.tax?parseFloat(0).toFixed(2):parseFloat(this.getSubTotal*this.service.tax/100).toFixed(2)},getCoupons:function(){return 0==this.coupon_percent?parseFloat(0).toFixed(2):parseFloat(this.getSubTotal*this.coupon_percent/100).toFixed(2)},getTotal:function(){return parseFloat(parseFloat(this.getSubTotal)+parseFloat(this.getTax)-parseFloat(this.getCoupons)).toFixed(2)}}),data:function(){var t=this;return{loading:!1,baseUrl:c["a"].baseUrl,service_id:-1,service:null,requireRule:[function(e){return!!e||t.$t("message.fieldRequired")}],valid:!1,selected_date:null,selected_times:[],worker_id:-1,quantity:1,dialog:!1,step:1,payment:-1,company:"",insurance:"",imageType:-1,image:null,image1:null,coupon:"",coupon_percent:0,fullUrl:"",formData:{cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}}},methods:{getService:function(){var t=this;this.loading=!0,n["a"].get("getService/".concat(this.service_id),{headers:{"Content-Type":"application/json"}}).then((function(e){if(e.data.success){var a=e.data.data;t.service=a}})).finally((function(){t.loading=!1}))},getServiceSession:function(){var t=this,e={cancel_url:"".concat(this.baseUrl,"service/").concat(this.service_id,"/2"),success_url:"".concat(this.baseUrl),service_id:this.service_id,worker_id:this.worker_id,date:this.selected_date,times:this.selected_times,quantity:this.quantity,coupon:this.coupon_percent>0?this.coupon:"",type:"service",lang:"ar"==this.selectedLocale.locale?"ar":"en"};this.loading=!0,n["a"].post("getServiceSession",JSON.stringify(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){if(e.data.success){var a=e.data.data,s="";s=c["a"].payment_test?"https://uatcheckout.thawani.om/pay/":"https://checkout.thawani.om/pay/",window.location.href="".concat(s).concat(a,"?key=").concat(c["a"].payment_public_key)}else l["default"].notify({group:"center",type:"error",text:t.$t("message.sessionError")})})).finally((function(){t.loading=!1}))},addWish:function(){var t=this;if(null==this.getUser)l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")});else{this.loading=!0;var e={service_id:this.service.id,product_id:-1};n["a"].post("addWish",JSON.stringify(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success&&(l["default"].notify({group:"center",type:"success",text:t.$t("message.added2WishList")}),t.getUser.wishes.push(e.data.data),localStorage.setItem("user",JSON.stringify(t.getUser)))})).finally((function(){t.loading=!1}))}},booking:function(){null!=this.getUser?this.dialog=!0:l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")})},mydate:function(t){var e=new Date;if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),t=new Date(t),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e>t)return!1;if(this.service.offdays.length>0){var a=t.getDay();if(this.service.offdays.includes(a))return!1}if(this.service.holidays.length>0)for(var s=0;s<this.service.holidays.length;s++){var i=this.service.holidays[s],r=new Date(i.starting_date);r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var n=new Date(i.ending_date);if(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t>=r&&t<=n)return!1}return!0},selectTime:function(t){this.selected_times.includes(t)?this.selected_times=this.selected_times.filter((function(e){return e.id!=t.id})):(1!=this.service.multiple_bookings&&(this.selected_times=[]),this.selected_times.push(t))},decreaseQuantity:function(){this.quantity>1&&this.quantity--},increaseQuantity:function(){this.quantity++},nextStep:function(){this.step++},beforeStep:function(){this.step--},chooseFiles:function(t){this.imageType=t,document.getElementById("fileUpload").click()},uploadImageFile:function(t){var e=t.target.files||t.dataTransfer.files;if(e.length){var a=e[0],s=a["type"],i=["image/gif","image/jpeg","image/png","image/jpg"];i.includes(s)?this.createImage(a):l["default"].notify({group:"loggedIn",type:"error",text:this.$t("message.selectValidImage")})}},createImage:function(t){var e=this,a=new FileReader;a.onload=function(t){1==e.imageType?e.image=t.target.result:e.image1=t.target.result},a.readAsDataURL(t)},updateCardNumber:function(t){},updateCardName:function(t){},updateCardMonth:function(t){},updateCardYear:function(t){},updateCardCvv:function(t){},bookingWithInsurance:function(){var t=this,e={service_id:this.service_id,worker_id:this.worker_id,date:this.selected_date,times:this.selected_times,quantity:this.quantity,coupon:this.coupon_percent>0?this.coupon:"",type:"service",lang:"ar"==this.selectedLocale.locale?"ar":"en",company:this.company,insurance:this.insurance,image:this.image,image1:this.image1};this.loading=!0,n["a"].post("bookingWithInsurance",JSON.stringify(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success?(l["default"].notify({group:"center",type:"success",text:t.$t("message.bookingSuccess")}),t.step=1,t.payment=-1,t.image1=null,t.image=null,t.company="",t.insurance="",t.selected_times=[],t.quantity=1,t.selected_date=null,t.$router.push("/")):l["default"].notify({group:"center",type:"error",text:t.$t("message.bookingFailed")}),t.coupon="",t.coupon_percent=0})).catch((function(t){l["default"].notify({group:"center",type:"error",text:t})})).finally((function(){t.loading=!1}))},gotoPay:function(){"client"==this.getUser.role?this.getServiceSession():l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedClientRole")})},submit:function(){"client"==this.getUser.role?(0==this.payment&&this.bookingWithInsurance(),this.dialog=!1):l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedClientRole")})},applyCoupon:function(){var t=this;null!=this.getUser?""!=this.coupon&&(this.loading=!0,n["a"].post("checkCoupon",JSON.stringify({coupon:this.coupon,type:"service"}),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success?(t.coupon_percent=e.data.data,l["default"].notify({group:"center",type:"success",text:t.$t("message.couponApplied")})):l["default"].notify({group:"center",type:"error",text:t.$t("message.invalidCoupon")})})).finally((function(){t.loading=!1}))):l["default"].notify({group:"center",type:"error",text:this.$t("message.youNeedToLoginFirst")})}},mounted:function(){var t=this.$route.params.type;"3"==t&&l["default"].notify({group:"center",type:"success",text:this.$t("message.bookingSuccess")})},beforeMount:function(){var t=this.$route.params.service_id;this.service_id=t,this.fullUrl=this.baseUrl+this.$route.path,this.getService()},watch:{coupon:function(){this.coupon_percent=0}}},S=$,D=(a("e7bf"),a("b0af")),M=a("62ad"),F=a("a523"),T=a("2e4b"),V=a("169a"),I=a("ce7e"),j=a("4bd4"),E=a("132d"),B=a("adda"),O=a("1d4d"),P=a("0fd9"),R=a("b974"),U=(a("0481"),a("a9e3"),a("b0c0"),a("8836"),a("10d2")),Y=a("3206"),L=a("a452"),q=a("58df"),A=a("d9bd"),z=Object(q["a"])(U["a"],Object(Y["b"])("stepper"),L["a"]),H=z.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data:function(){var t={isBooted:!1,steps:[],content:[],isReverse:!1};return t.internalLazyValue=null!=this.value?this.value:(t[0]||{}).step||1,t},computed:{classes:function(){return Object(r["a"])({"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},U["a"].options.computed.classes.call(this))},styles:function(){return Object(r["a"])({},U["a"].options.computed.styles.call(this))}},watch:{internalValue:function(t,e){this.isReverse=Number(t)<Number(e),e&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(A["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister:function(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter((function(e){return e!==t})):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter((function(e){return e!==t})))},stepClick:function(t){var e=this;this.$nextTick((function(){return e.internalValue=t}))},updateView:function(){for(var t=this.steps.length;--t>=0;)this.steps[t].toggle(this.internalValue);for(var e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render:function(t){return t(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),W=a("0789"),J=a("80d2"),Q=Object(q["a"])(Object(Y["a"])("stepper","v-stepper-content","v-stepper")),X=Q.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var t=this.$vuetify.rtl?!this.isReverse:this.isReverse;return t?W["e"]:W["f"]},styles:function(){return this.isVertical?{height:Object(J["g"])(this.height)}:{}}},watch:{isActive:function(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame((function(){e=t.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return t.isActive&&(t.height=e||"auto")}),450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return t.height=0}),10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={staticClass:"v-stepper__content"},a={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var s=t("div",a,[this.$slots.default]),i=t("div",e,[s]);return t(this.computedTransition,{on:this.$listeners},[i])}}),G=a("9d26"),K=a("a9ad"),Z=a("5607"),tt=Object(q["a"])(K["a"],Object(Y["a"])("stepper","v-stepper-step","v-stepper")),et=tt.extend().extend({name:"v-stepper-step",directives:{ripple:Z["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(t){return!0!==t()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon:function(t){return this.$createElement(G["a"],t)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(String(this.step)),t},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render:function(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}}),at=Object(J["i"])("v-stepper__header"),st=Object(J["i"])("v-stepper__items"),it=a("8654"),rt=Object(v["a"])(S,s,i,!1,null,null,null);e["default"]=rt.exports;x()(rt,{VBtn:k["a"],VCard:D["a"],VCol:M["a"],VContainer:F["a"],VDatePicker:T["a"],VDialog:V["a"],VDivider:I["a"],VForm:j["a"],VIcon:E["a"],VImg:B["a"],VRating:O["a"],VRow:P["a"],VSelect:R["a"],VStepper:H,VStepperContent:X,VStepperHeader:at,VStepperItems:st,VStepperStep:et,VTextField:it["a"]})},e7bf:function(t,e,a){"use strict";a("a09f")}}]);