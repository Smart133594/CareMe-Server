(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d140508"],{"0283":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-section-loader",{attrs:{status:t.loading}}),a("v-container",{attrs:{fluid:"","grid-list-xl":"","py-0":""}},[a("v-row",[a("app-card",{attrs:{fullBlock:!0,colClasses:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"}},[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("download-excel",{attrs:{data:t.filterOrders,fields:t.excel_headers}},[a("v-btn",{attrs:{text:""}},[t._v("Export")])],1)],1),a("v-card-title",[a("v-select",{attrs:{label:t.$t("message.vendors"),"item-text":"en"==t.selectedLocale.locale?"en_name":"ar_name",items:t.getVendors,"item-value":"value"},model:{value:t.vendor_value,callback:function(e){t.vendor_value=e},expression:"vendor_value"}}),a("v-spacer"),a("v-select",{attrs:{label:t.$t("message.payment"),"item-text":"text",items:t.payment_status,"item-value":"value"},model:{value:t.payment_status_value,callback:function(e){t.payment_status_value=e},expression:"payment_status_value"}}),a("v-spacer"),a("v-select",{attrs:{label:t.$t("message.state"),"item-text":"text",items:t.states,"item-value":"value"},model:{value:t.states_value,callback:function(e){t.states_value=e},expression:"states_value"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getFilteredOrders,search:t.search},scopedSlots:t._u([{key:"body",fn:function(e){var n=e.items;return[a("tbody",[t._l(n,(function(e,n){return a("tr",{key:"ordering"+e.id},[a("td",[t._v(t._s(n+1))]),a("td",[t._v(" "+t._s(e["en"==t.selectedLocale.locale?"vendor_en_name":"vendor_ar_name"])+" ")]),a("td",[a("a",{attrs:{href:""+t.baseUrl+e.invoice,target:"_blank"}},[t._v(t._s(t.$t("message.invoice")))])]),a("td",[t._v(t._s(e.created_at))]),a("td",[a("p",{staticClass:"m-0"},[t._v(" "+t._s(e.full_name)+" ")]),a("p",{staticClass:"m-0"},[t._v(" "+t._s(e.phone)+" ")])]),a("td",t._l(e.carts,(function(e,n){return a("p",{key:n+"item",staticClass:"m-0"},[t._v(" "+t._s(e["en"==t.selectedLocale.locale?"en_name":"ar_name"])+"("+t._s(e.quantity)+") ")])})),0),a("td",[t._v(" "+t._s(t.$t("message.currency"))+" "+t._s(parseFloat(e.amount).toFixed(2))+" ")]),a("td",[a("v-badge",{staticClass:"p-2",class:{error:"paid"!=e.payment_status,success:"paid"==e.payment_status},attrs:{value:!1}},[t._v(t._s(e.payment_status))])],1),a("td",[a("v-badge",{staticClass:"p-2",class:{info:"delivered"==e.state,error:"pending"==e.state||"rejected"==e.state},attrs:{value:!1}},[t._v(t._s(e.state))])],1),a("td",[a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""}},n),[a("v-icon",[t._v("more_vert")])],1)]}}],null,!0)},[a("v-list",{staticStyle:{cursor:"pointer"}},["pending"==e.state?a("v-btn",{staticClass:"mt-1",attrs:{text:"",block:""},on:{click:function(a){return t.deliveredOrder(e)}}},[t._v(t._s(t.$t("message.delivered")))]):t._e(),"pending"==e.state?a("v-btn",{staticClass:"mt-1",attrs:{text:"",block:""},on:{click:function(a){return t.rejectOrder(e)}}},[t._v(t._s(t.$t("message.reject")))]):t._e()],1)],1)],1)])})),a("tr",t._l(t.headers,(function(e){return a("td",{key:"total_"+e.value},["carts"==e.value?a("div",[a("h6",[t._v(t._s(t.$t("message.total"))+":")])]):t._e(),"amount"==e.value?a("div",[a("h6",[t._v(t._s(t.getTotal(n)))])]):t._e()])})),0)],2)]}}])})],1)],1)],1)],1)},s=[],r=a("5530"),o=(a("4de4"),a("159b"),a("99af"),a("d3b7"),a("b680"),a("e065")),i=a("2f62"),l=a("365c"),c=a("f2d9"),d={components:{downloadExcel:c["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["getUser","selectedLocale"])),{},{getFilteredOrders:function(){var t=this,e=this.orders;return""!=this.vendor_value&&(e=e.filter((function(e){return e.vendor_en_name==t.vendor_value}))),""!=this.payment_status_value&&(e=e.filter((function(e){return e.payment_status==t.payment_status_value}))),""!=this.states_value&&(e=e.filter((function(e){return e.state==t.states_value}))),e},getVendors:function(){var t=[{en_name:"None",ar_name:"None",value:""}];return this.orders.forEach((function(e){var a=t.filter((function(t){return t.en_name==e.en_name}));0==a.length&&t.push({en_name:e.vendor_en_name,ar_name:e.vendor_ar_name,value:e.vendor_en_name})})),t}}),data:function(){var t=this;return{loading:!1,orders:[],search:"",baseUrl:o["a"].baseUrl,headers:[{text:this.$t("message.no"),value:"no"},{text:this.$t("message.vendorName"),value:"vendor_en_name",align:"center"},{text:this.$t("message.invoice"),value:"invoice"},{text:this.$t("message.date"),value:"created_at"},{text:this.$t("message.client"),value:"full_name"},{text:this.$t("message.item"),value:"carts"},{text:this.$t("message.amount"),value:"amount"},{text:this.$t("message.payment"),value:"payment_status"},{text:this.$t("message.state")},{text:this.$t("message.settings"),value:"setting"}],excel_headers:{"Vendor Name":"vendor_en_name","Invoice Url":{field:"invoice",callback:function(e){return"".concat(t.baseUrl).concat(e)}},Date:"created_at","Client Name":"full_name",Item:{field:"carts",callback:function(t){var e="";return t.forEach((function(t){e+=t.en_name+"\n"})),e}},Amount:"amount",Payment:{field:"payment_status",callback:function(t){var e=t.toUpperCase();return e}},Status:{field:"state",callback:function(t){var e=t.toUpperCase();return e}}},filterOrders:[],vendors:[],payment_type:[{text:"None",value:""},{text:"CARD",value:"card"},{text:"INSURANCE",value:"insurance"}],payment_status:[{text:"None",value:""},{text:"UNPAID",value:"unpaid"},{text:"PAID",value:"paid"},{text:"REFUND",value:"refund"}],states:[{text:"None",value:""},{text:"PENDING",value:"pending"},{text:"CONFIRMED",value:"confirmed"},{text:"REJECTED",value:"rejected"}],vendor_value:"",payment_type_value:"",payment_status_value:"",states_value:""}},methods:{getOrders:function(){var t=this;this.loading=!0,l["a"].get("getOrders",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){if(e.data.success){var a=e.data.data;t.orders=a}})).catch((function(t){})).finally((function(){t.loading=!1}))},getTotal:function(t){var e=0;return this.filterOrders=t,t.forEach((function(t){e+=parseFloat(t.amount)})),e.toFixed(2)},deliveredOrder:function(t){var e=this;this.loading=!0;var a={id:t.id};l["a"].post("deliveredOrder",JSON.stringify(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success&&e.getOrders()})).catch((function(t){})).finally((function(){e.loading=!1}))},rejectOrder:function(t){var e=this;this.loading=!0;var a={id:t.id};l["a"].post("rejectOrder",JSON.stringify(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success&&e.getOrders()})).catch((function(t){})).finally((function(){e.loading=!1}))}},mounted:function(){},beforeMount:function(){this.getOrders()}},u=d,f=a("2877"),h=a("6544"),p=a.n(h),m=a("4ca6"),v=a("8336"),g=a("99d9"),b=a("a523"),_=a("8fea"),y=a("132d"),x=a("8860"),w=a("e449"),C=a("0fd9"),k=a("b974"),$=a("2fa4"),O=a("8654"),S=Object(f["a"])(u,n,s,!1,null,null,null);e["default"]=S.exports;p()(S,{VBadge:m["a"],VBtn:v["a"],VCardTitle:g["c"],VContainer:b["a"],VDataTable:_["a"],VIcon:y["a"],VList:x["a"],VMenu:w["a"],VRow:C["a"],VSelect:k["a"],VSpacer:$["a"],VTextField:O["a"]})},"4ca6":function(t,e,a){"use strict";var n=a("15fd"),s=a("5530"),r=(a("a9e3"),a("ff44"),a("132d")),o=a("a9ad"),i=a("7560"),l=a("f2e7"),c=a("2b0e"),d=c["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),u=a("fe6c"),f=a("58df"),h=a("80d2");e["a"]=Object(f["a"])(o["a"],Object(u["b"])(["left","bottom"]),i["a"],l["a"],d).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return Object(s["a"])({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(h["g"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),a=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),n=this.$createElement("span",a,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[n]):n},genBadgeContent:function(){if(!this.dot){var t=Object(h["s"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(r["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],a=[Object(h["s"])(this)],s=this.$attrs,r=(s["aria-atomic"],s["aria-label"],s["aria-live"],s.role,s.title,Object(n["a"])(s,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?a.unshift(e):a.push(e),t("span",{staticClass:"v-badge",attrs:r,class:this.classes},a)}})},f2d9:function(t,e,a){"use strict";(function(t){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function a(t,e){return e={exports:{}},t(e,e.exports),e.exports}var n=a((function(t,e){(function(e,a){t.exports=a()})(0,(function(){return function t(e,a,n){var s,r,o=window,i="application/octet-stream",l=n||i,c=e,d=!a&&!n&&c,u=document.createElement("a"),f=function(t){return String(t)},h=o.Blob||o.MozBlob||o.WebKitBlob||f,p=a||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(c=[c,l],l=c[0],c=c[1]),d&&d.length<2048&&(p=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var m=new XMLHttpRequest;return m.open("GET",d,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,p,i)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(_(c),p):y(c);c=_(c),l=c.type||i}else if(/([\x80-\xff])/.test(c)){var v=0,g=new Uint8Array(c.length),b=g.length;for(v;v<b;++v)g[v]=c.charCodeAt(v);c=new h([g],{type:l})}function _(t){var e=t.split(/[:;,]/),a=e[1],n="base64"==e[2]?atob:decodeURIComponent,s=n(e.pop()),r=s.length,o=0,i=new Uint8Array(r);for(o;o<r;++o)i[o]=s.charCodeAt(o);return new h([i],{type:a})}function y(t,e){if("download"in u)return u.href=t,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var a=document.createElement("iframe");document.body.appendChild(a),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),a.src=t,setTimeout((function(){document.body.removeChild(a)}),333)}if(s=c instanceof h?c:new h([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(s,p);if(o.URL)y(o.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===f)try{return y("data:"+l+";base64,"+o.btoa(s))}catch(x){return y("data:"+l+","+encodeURIComponent(s))}r=new FileReader,r.onload=function(t){y(this.result)},r.readAsDataURL(s)}return!0}}))})),s={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var t=(new Date).getTime();return"export_"+t},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let t=this.data;if("function"!==typeof this.fetch&&t||(t=await this.fetch()),!t||!t.length)return;let e=this.getProcessedJson(t,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(t,e,a){let s=this.base64ToBlob(t,a);"function"===typeof this.beforeFinish&&await this.beforeFinish(),n(s,e,a)},jsonToXLS(t){let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',a="<thead>";const n=Object.keys(t[0]).length;let s=this;const r=this.header||this.$attrs.title;r&&(a+=this.parseExtraData(r,'<tr><th colspan="'+n+'">${data}</th></tr>')),a+="<tr>";for(let o in t[0])a+="<th>"+o+"</th>";return a+="</tr>",a+="</thead>",a+="<tbody>",t.map((function(t,e){a+="<tr>";for(let n in t)a+="<td>"+s.preprocessLongNum(s.valueReformattedForMultilines(t[n]))+"</td>";a+="</tr>"})),a+="</tbody>",null!=this.footer&&(a+="<tfoot>",a+=this.parseExtraData(this.footer,'<tr><td colspan="'+n+'">${data}</td></tr>'),a+="</tfoot>"),e.replace("${table}",a).replace("${worksheet}",this.worksheet)},jsonToCSV(t){let e=this;var a=[];const n=this.header||this.$attrs.title;n&&a.push(this.parseExtraData(n,"${data}\r\n"));for(let s in t[0])a.push(s),a.push(",");return a.pop(),a.push("\r\n"),t.map((function(t){for(let n in t){let s=t[n]+"";e.escapeCsv&&(s='="'+s+'"',s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"')),a.push(s),a.push(",")}a.pop(),a.push("\r\n")})),null!=this.footer&&a.push(this.parseExtraData(this.footer,"${data}\r\n")),a.join("")},getProcessedJson(t,e){let a=this.getKeys(t,e),n=[],s=this;return t.map((function(t,e){let r={};for(let n in a){let e=a[n];r[n]=s.getValue(e,t)}n.push(r)})),n},getKeys(t,e){if(e)return e;let a={};for(let n in t[0])a[n]=n;return a},parseExtraData(t,e){let a="";if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&(a+=e.replace("${data}",t[n]));else a+=e.replace("${data}",t);return a},getValue(t,e){const a="object"!==typeof t?t:t.field;let n="string"!==typeof a?[]:a.split("."),s=this.defaultValue;return s=a?n.length>1?this.getValueFromNestedItem(e,n):this.parseValue(e[a]):e,t.hasOwnProperty("callback")&&(s=this.getValueFromCallback(s,t.callback)),s},valueReformattedForMultilines(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem(t,e){let a=t;for(let n of e)a&&(a=a[n]);return this.parseValue(a)},getValueFromCallback(t,e){if("function"!==typeof e)return this.defaultValue;const a=e(t);return this.parseValue(a)},parseValue(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob(t,e){let a=window.btoa(window.unescape(encodeURIComponent(t))),n=atob(a),s=n.length,r=new Uint8ClampedArray(s);while(s--)r[s]=n.charCodeAt(s);return new Blob([r],{type:e})}}};function r(t,e,a,n,s,r,o,i,l,c){"boolean"!==typeof o&&(l=i,i=o,o=!1);var d,u="function"===typeof a?a.options:a;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),n&&(u._scopeId=n),r?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=o?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),d)if(u.functional){var f=u.render;u.render=function(t,e){return d.call(e),f(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return a}var o=r;const i=s;var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.idName},on:{click:t.generate}},[t._t("default",[t._v(" Download "+t._s(t.name)+" ")])],2)},c=[];l._withStripped=!0;const d=void 0,u=void 0,f=void 0,h=!1;var p=o({render:l,staticRenderFns:c},d,i,u,h,f,void 0,void 0);e["a"]=p}).call(this,a("c8ba"))},ff44:function(t,e,a){}}]);