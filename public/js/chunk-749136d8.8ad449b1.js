(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-749136d8"],{"61d27":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-title-bar",{attrs:{hide:!0}}),a("v-container",{attrs:{fluid:"","grid-list-xl":"","py-0":""}},[a("v-row",[a("app-card",{attrs:{fullBlock:!0,colClasses:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"}},[a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.clients,search:t.search},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e,s){return a("tr",{key:"vendor"+e.id},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.first_name))]),a("td",[t._v(t._s(e.last_name))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.email))]),a("td",[a("v-img",{staticClass:"my-2",attrs:{src:e.avatar?t.baseUrl+"uploads/avatars/"+e.avatar:"/static/avatars/male.png","aspect-ratio":"2",contain:""}})],1),a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:e.active?"success":"error"}},[a("v-icon",[t._v(t._s(e.active?"check_circle":"zmdi-close-circle"))])],1)],1),a("td",[a("v-btn",{staticClass:"ma-2",attrs:{color:"info"},on:{click:function(a){return t.manage(e)}}},[t._v(t._s(e.active?t.$t("message.deActive"):t.$t("message.active")))]),a("v-btn",{staticClass:"ma-2",attrs:{color:"error"},on:{click:function(a){return t.askDelete(e)}}},[t._v(t._s(t.$t("message.delete")))])],1)])})),0)]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("message.deleteItemTitle")))]),a("v-card-text",[t._v(t._s(t.$t("message.deleteItemContent")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning",text:"text",disabled:t.loading},on:{click:function(e){return e.stopPropagation(),t.deleteClient(e)}}},[t._v("Delete")]),a("v-btn",{attrs:{color:"error",text:"text",disabled:t.loading},on:{click:function(e){e.stopPropagation(),t.deleteDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},n=[],i=a("5530"),l=(a("d3b7"),a("2f62")),o=a("2b0e"),c=a("365c"),r=a("e065"),d={data:function(){return{loading:!1,clients:[],baseUrl:r["a"].testMode?r["a"].localhost:r["a"].domain,search:"",headers:[{text:this.$t("message.no"),value:"no"},{text:this.$t("message.firstName"),value:"first_name"},{text:this.$t("message.lastName"),value:"last_name"},{text:this.$t("message.phone"),value:"phone"},{text:this.$t("message.email"),value:"email"},{text:this.$t("message.image"),value:"avatar"},{text:this.$t("message.active"),value:"active"},{text:this.$t("message.settings"),value:"settings"}],deleteDialog:!1,deleteItem:null}},computed:Object(i["a"])({},Object(l["b"])(["getUser","selectedLocale"])),methods:{getClients:function(){var t=this;this.loading=!0,c["a"].get("getClients",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success&&(t.clients=e.data.data)})).catch((function(t){o["default"].notify({group:"loggedIn",type:"error",text:t})})).finally((function(){t.loading=!1}))},manage:function(t){var e=this;this.loading=!0;var a={id:t.id};c["a"].post("manageClient",JSON.stringify(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(t){t.data.success&&e.getClients()})).catch((function(t){o["default"].notify({group:"loggedIn",type:"error",text:t})})).finally((function(){e.loading=!1}))},askDelete:function(t){this.deleteItem=t,this.deleteDialog=!0},deleteClient:function(){var t=this;this.loading=!0;var e={id:this.deleteItem.id};c["a"].post("deleteClient",JSON.stringify(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getUser.token)}}).then((function(e){e.data.success&&t.getClients()})).catch((function(t){o["default"].notify({group:"loggedIn",type:"error",text:t})})).finally((function(){t.loading=!1,t.deleteDialog=!1,t.deleteItem=null}))}},mounted:function(){this.getClients()}},u=d,g=a("2877"),v=a("6544"),h=a.n(v),m=a("8336"),f=a("b0af"),p=a("99d9"),_=a("cc20"),b=a("a523"),C=a("8fea"),x=a("169a"),y=a("132d"),k=a("adda"),V=a("0fd9"),$=a("2fa4"),D=a("8654"),I=Object(g["a"])(u,s,n,!1,null,null,null);e["default"]=I.exports;h()(I,{VBtn:m["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:_["a"],VContainer:b["a"],VDataTable:C["a"],VDialog:x["a"],VIcon:y["a"],VImg:k["a"],VRow:V["a"],VSpacer:$["a"],VTextField:D["a"]})}}]);